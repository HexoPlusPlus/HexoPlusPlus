const checkUpdate=async()=>{cw();let e,n=await(await fetch("/hpp/admin/api/update",{method:"POST",body:JSON.stringify({action:"check"})})).json();e=1==n.code?"warning":-1==n.code?"error":"success",swal({title:n.msg,icon:e,text:n.content})};(async()=>{config.hexo.switch&&(document.getElementById("document_all").innerHTML=getJsonLength(JSON.parse((await h_api_helper.github({action:"listtree",username:config.hexo.gh_username,reponame:config.hexo.gh_reponame,path:config.hexo.gh_docpath,branch:config.hexo.gh_branch,token:config.hexo.gh_token})).content))||"ERROR"),config.img.switch&&"gh"==config.img.type&&(document.getElementById("img_all").innerHTML=getJsonLength(JSON.parse((await h_api_helper.github({action:"listtree",username:config.img.gh_username,reponame:config.img.gh_reponame,path:config.img.gh_docpath,branch:config.img.gh_branch,token:config.img.gh_token})).content))||"ERROR")})();