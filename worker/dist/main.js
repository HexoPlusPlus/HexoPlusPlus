/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={751:t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e},bytesToString:function(t){for(var e=[],i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}}};t.exports=e},41:t=>{var e,i;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&i.rotl(t,8)|4278255360&i.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=i.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],i=0,n=0;i<t.length;i++,n+=8)e[n>>>5]|=t[i]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],i=0;i<32*t.length;i+=8)e.push(t[i>>>5]>>>24-i%32&255);return e},bytesToHex:function(t){for(var e=[],i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((15&t[i]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(parseInt(t.substr(i,2),16));return e},bytesToBase64:function(t){for(var i=[],n=0;n<t.length;n+=3)for(var a=t[n]<<16|t[n+1]<<8|t[n+2],l=0;l<4;l++)8*n+6*l<=8*t.length?i.push(e.charAt(a>>>6*(3-l)&63)):i.push("=");return i.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],n=0,a=0;n<t.length;a=++n%4)0!=a&&i.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*a+8)-1)<<2*a|e.indexOf(t.charAt(n))>>>6-2*a);return i}},t.exports=i},34:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},735:(t,e,i)=>{var n,a,l,s,d;n=i(41),a=i(751).utf8,l=i(34),s=i(751).bin,(d=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?s.stringToBytes(t):a.stringToBytes(t):l(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=n.bytesToWords(t),c=8*t.length,p=1732584193,r=-271733879,o=-1732584194,u=271733878,h=0;h<i.length;h++)i[h]=16711935&(i[h]<<8|i[h]>>>24)|4278255360&(i[h]<<24|i[h]>>>8);i[c>>>5]|=128<<c%32,i[14+(c+64>>>9<<4)]=c;var m=d._ff,v=d._gg,f=d._hh,b=d._ii;for(h=0;h<i.length;h+=16){var g=p,_=r,y=o,x=u;p=m(p,r,o,u,i[h+0],7,-680876936),u=m(u,p,r,o,i[h+1],12,-389564586),o=m(o,u,p,r,i[h+2],17,606105819),r=m(r,o,u,p,i[h+3],22,-1044525330),p=m(p,r,o,u,i[h+4],7,-176418897),u=m(u,p,r,o,i[h+5],12,1200080426),o=m(o,u,p,r,i[h+6],17,-1473231341),r=m(r,o,u,p,i[h+7],22,-45705983),p=m(p,r,o,u,i[h+8],7,1770035416),u=m(u,p,r,o,i[h+9],12,-1958414417),o=m(o,u,p,r,i[h+10],17,-42063),r=m(r,o,u,p,i[h+11],22,-1990404162),p=m(p,r,o,u,i[h+12],7,1804603682),u=m(u,p,r,o,i[h+13],12,-40341101),o=m(o,u,p,r,i[h+14],17,-1502002290),p=v(p,r=m(r,o,u,p,i[h+15],22,1236535329),o,u,i[h+1],5,-165796510),u=v(u,p,r,o,i[h+6],9,-1069501632),o=v(o,u,p,r,i[h+11],14,643717713),r=v(r,o,u,p,i[h+0],20,-373897302),p=v(p,r,o,u,i[h+5],5,-701558691),u=v(u,p,r,o,i[h+10],9,38016083),o=v(o,u,p,r,i[h+15],14,-660478335),r=v(r,o,u,p,i[h+4],20,-405537848),p=v(p,r,o,u,i[h+9],5,568446438),u=v(u,p,r,o,i[h+14],9,-1019803690),o=v(o,u,p,r,i[h+3],14,-187363961),r=v(r,o,u,p,i[h+8],20,1163531501),p=v(p,r,o,u,i[h+13],5,-1444681467),u=v(u,p,r,o,i[h+2],9,-51403784),o=v(o,u,p,r,i[h+7],14,1735328473),p=f(p,r=v(r,o,u,p,i[h+12],20,-1926607734),o,u,i[h+5],4,-378558),u=f(u,p,r,o,i[h+8],11,-2022574463),o=f(o,u,p,r,i[h+11],16,1839030562),r=f(r,o,u,p,i[h+14],23,-35309556),p=f(p,r,o,u,i[h+1],4,-1530992060),u=f(u,p,r,o,i[h+4],11,1272893353),o=f(o,u,p,r,i[h+7],16,-155497632),r=f(r,o,u,p,i[h+10],23,-1094730640),p=f(p,r,o,u,i[h+13],4,681279174),u=f(u,p,r,o,i[h+0],11,-358537222),o=f(o,u,p,r,i[h+3],16,-722521979),r=f(r,o,u,p,i[h+6],23,76029189),p=f(p,r,o,u,i[h+9],4,-640364487),u=f(u,p,r,o,i[h+12],11,-421815835),o=f(o,u,p,r,i[h+15],16,530742520),p=b(p,r=f(r,o,u,p,i[h+2],23,-995338651),o,u,i[h+0],6,-198630844),u=b(u,p,r,o,i[h+7],10,1126891415),o=b(o,u,p,r,i[h+14],15,-1416354905),r=b(r,o,u,p,i[h+5],21,-57434055),p=b(p,r,o,u,i[h+12],6,1700485571),u=b(u,p,r,o,i[h+3],10,-1894986606),o=b(o,u,p,r,i[h+10],15,-1051523),r=b(r,o,u,p,i[h+1],21,-2054922799),p=b(p,r,o,u,i[h+8],6,1873313359),u=b(u,p,r,o,i[h+15],10,-30611744),o=b(o,u,p,r,i[h+6],15,-1560198380),r=b(r,o,u,p,i[h+13],21,1309151649),p=b(p,r,o,u,i[h+4],6,-145523070),u=b(u,p,r,o,i[h+11],10,-1120210379),o=b(o,u,p,r,i[h+2],15,718787259),r=b(r,o,u,p,i[h+9],21,-343485551),p=p+g>>>0,r=r+_>>>0,o=o+y>>>0,u=u+x>>>0}return n.endian([p,r,o,u])})._ff=function(t,e,i,n,a,l,s){var d=t+(e&i|~e&n)+(a>>>0)+s;return(d<<l|d>>>32-l)+e},d._gg=function(t,e,i,n,a,l,s){var d=t+(e&n|i&~n)+(a>>>0)+s;return(d<<l|d>>>32-l)+e},d._hh=function(t,e,i,n,a,l,s){var d=t+(e^i^n)+(a>>>0)+s;return(d<<l|d>>>32-l)+e},d._ii=function(t,e,i,n,a,l,s){var d=t+(i^(e|~n))+(a>>>0)+s;return(d<<l|d>>>32-l)+e},d._blocksize=16,d._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var i=n.wordsToBytes(d(t,e));return e&&e.asBytes?i:e&&e.asString?s.bytesToString(i):n.bytesToHex(i)}}},e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={exports:{}};return t[n](a,a.exports,i),a.exports}(()=>{"use strict";const t=function(t,e){return hpp_CDN=e.CDN,hpp_ver=e.ver,`<!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset="utf-8">\n      <meta name="viewport" content="width=device-width">\n      <title>欢迎 | ${hpp_ver}</title>\n      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@1.0.1/dist/css/mdui.min.css"/>\n    </head>\n    <body style="mdui-theme-layout-dark">\n    <div class="mdui-container">\n      <div class="mdui-toolbar">\n        <a id="_menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>\n        <span class="mdui-typo-title">${hpp_ver}安装</span>\n        <div class="mdui-toolbar-spacer"></div>\n      </div>\n    </div>\n    \n    <div class="mdui-drawer mdui-drawer-close" id="drawer" style="background-color:#fff">\n      <ul class="mdui-list" id="_li">\n      <li class="mdui-list-item mdui-ripple">\n      <a href="https://hexoplusplus.js.org">\n          <div class="mdui-list-item-content">寻求帮助</div></a></li><li class="mdui-list-item mdui-ripple">\n          <a href="https://github.com/hexoplusplus/hexoplusplus">\n          <div class="mdui-list-item-content">项目地址</div></a></li><li class="mdui-list-item mdui-ripple">\n          <a href="https://jq.qq.com/?_wv=1027&k=rAcnhzqK">\n          <div class="mdui-list-item-content">加群帮助</div></a>\n        </li>\n    </ul></div>\n    \n    <div class="mdui-container">\n    \n      <div class="mdui-row">\n        <div class="mdui-m-b-3">\n          <div class="mdui-panel" id="panel">\n            <div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n              <div class="mdui-panel-item-header">基础配置(必填)</div>\n              <div class="mdui-panel-item-body">\n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">域名</label>\n        <input class="mdui-textfield-input" id="hpp_domain" value="${t.hpp_domain||domain}"/>\n      </div>\n      \n      \n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">头像地址</label>\n        <input class="mdui-textfield-input" id="hpp_userimage" value="${t.hpp_userimage}"/>\n      </div>\n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">标题</label>\n        <input class="mdui-textfield-input" id="hpp_title" value="${t.hpp_title}"/>\n      </div>\n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">icon地址</label>\n        <input class="mdui-textfield-input" id="hpp_usericon" value="${t.hpp_usericon}"/>\n      </div>\n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">跨域请求</label>\n        <input class="mdui-textfield-input" id="hpp_cors" value="${t.hpp_cors}"/>\n      </div>\n      \n      \n                  \n      \n      \n              </div>\n            </div>\n        \n        <div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n              <div class="mdui-panel-item-header">面板配置(必填)</div>\n              <div class="mdui-panel-item-body">\n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">OWOJSON地址</label>\n        <input class="mdui-textfield-input" id="hpp_OwO" value="${t.hpp_OwO}"/>\n      </div>\n      \n      \n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">面板背景图片</label>\n        <input class="mdui-textfield-input" id="hpp_back" value="${t.hpp_back}"/>\n      </div>\n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">懒加载图片</label>\n        <input class="mdui-textfield-input" id="hpp_lazy_img" value="${t.hpp_lazy_img}"/>\n      </div>\n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">高亮样式</label>\n        <input class="mdui-textfield-input" id="hpp_highlight_style" value="${t.hpp_highlight_style}"/>\n      </div>\n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">面板选项卡颜色</label>\n        <input class="mdui-textfield-input" id="hpp_color" value="${t.hpp_color}"/>\n      </div>\n      \n                    <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">面板选项框颜色</label>\n        <input class="mdui-textfield-input" id="hpp_bg_color" value="${t.hpp_bg_color}"/>\n      </div>\n                    <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">面板主题色</label>\n        <input class="mdui-textfield-input" id="hpp_theme_mode" value="${t.hpp_theme_mode}"/>\n      </div>\n                  \n                   <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">列表限制数量</label>\n        <input class="mdui-textfield-input" id="hpp_page_limit" value="${t.hpp_page_limit}"/>\n      </div>\n                  \n      \n              </div>\n            </div>\n        \n        \n        <div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n              <div class="mdui-panel-item-header">Github文档配置</div>\n              <div class="mdui-panel-item-body">\n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github文档仓库Token</label>\n        <input class="mdui-textfield-input" id="hpp_githubdoctoken" value="${t.hpp_githubdoctoken}"/>\n      </div>\n      \n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github文档仓库用户名</label>\n        <input class="mdui-textfield-input" id="hpp_githubdocusername" value="${t.hpp_githubdocusername}"/>\n      </div>\n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github文档仓库名</label>\n        <input class="mdui-textfield-input" id="hpp_githubdocrepo" value="${t.hpp_githubdocrepo}"/>\n      </div>\n      \n                    <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github文档仓库根目录</label>\n        <input class="mdui-textfield-input" id="hpp_githubdocroot" value="${t.hpp_githubdocroot}"/>\n      </div>\n                  \n                     <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github文档仓库分支</label>\n        <input class="mdui-textfield-input" id="hpp_githubdocbranch" value="${t.hpp_githubdocbranch}"/>\n      </div>\n      \n      \n       <label class="mdui-switch">\n            <input type="checkbox" id="yuque"/>\n             <i class="mdui-switch-icon"></i> 使用语雀对接\n          </label>\n                     \n      <div id="hpp_yuque" style="display:none">\n      \n       <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github语雀仓库用户名</label>\n        <input class="mdui-textfield-input" id="hpp_githubyuqueusername" value="${t.hpp_githubyuqueusername}"/>\n      </div>\n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github语雀仓库名</label>\n        <input class="mdui-textfield-input" id="hpp_githubyuquerepo" value="${t.hpp_githubyuquerepo}"/>\n      </div>\n      \n              <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github语雀TOKEN</label>\n        <input class="mdui-textfield-input" id="hpp_githubyuquetoken" value="${t.hpp_githubyuquetoken}"/>\n      </div>\n      \n      <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">语雀识别码【请自行手滚键盘，不得留空】</label>\n        <input class="mdui-textfield-input" id="hpp_yuquetoken" value="${t.hpp_yuquetoken}"/>\n      </div>\n      \n      \n      </div>\n      \n      \n              </div>\n            </div>\n        \n        <div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n              <div class="mdui-panel-item-header">图床配置</div>\n              <div class="mdui-panel-item-body">\n          \n          \n      <label class="mdui-switch">\n            <input type="checkbox" id="hpp_img"/>\n            使用Github图床，由HPP托管 <i class="mdui-switch-icon"></i>  自定义图床 \n          </label>\n      \n      <div id="githubimg" >\n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github图片仓库Token</label>\n        <input class="mdui-textfield-input" id="hpp_githubimagetoken" value="${t.hpp_githubimagetoken}"/>\n      </div>\n      \n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github图片仓库用户名</label>\n        <input class="mdui-textfield-input" id="hpp_githubimageusername" value="${t.hpp_githubimageusername}"/>\n      </div>\n      \n      \n                    <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github图片仓库名</label>\n        <input class="mdui-textfield-input" id="hpp_githubimagerepo" value="${t.hpp_githubimagerepo}"/>\n      </div>\n                   <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github图片仓库路径</label>\n        <input class="mdui-textfield-input" id="hpp_githubimagepath" value="${t.hpp_githubimagepath}"/>\n      </div>\n                     <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Github图片仓库分支</label>\n        <input class="mdui-textfield-input" id="hpp_githubimagebranch" value="${t.hpp_githubimagebranch}"/>\n      </div>\n                     \n      \n      \n      \n              </div>\n          \n            <div id="ownimg" style="display:none">\n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">自定义接口地址</label>\n        <input class="mdui-textfield-input" id="hpp_ownimgurl" value="${t.hpp_ownimgurl}"/>\n      </div>\n      \n      <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">POST参数名</label>\n        <input class="mdui-textfield-input" id="hpp_ownimgname" value="${t.hpp_ownimgname}"/>\n      </div>\n      <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">JSON路径</label>\n        <input class="mdui-textfield-input" id="hpp_ownimgjsonpath" value="${t.hpp_ownimgjsonpath}"/>\n      </div>\n      <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">自定义头</label>\n        <input class="mdui-textfield-input" id="hpp_ownimgheader" value="${t.hpp_ownimgheader}"/>\n      </div>\n      <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">自定义method</label>\n        <input class="mdui-textfield-input" id="hpp_ownimgmethod" value="${t.hpp_ownimgmethod}"/>\n      </div>\n      \n              </div>\n          \n          \n          </div>\n            </div>\n        \n        \n        \n        <div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n              <div class="mdui-panel-item-header">Github私有Page配置</div>\n              <div class="mdui-panel-item-body">\n       <label class="mdui-switch">\n            <input type="checkbox" id="hpp_githubpage"/>\n            <i class="mdui-switch-icon"></i> 开启PrivatePage模式 \n          </label><div id="hpp_githubpage_ctx" style="display:none">\n      \n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">GithubPage仓库Token</label>\n        <input class="mdui-textfield-input" id="hpp_githubpagetoken" value="${t.hpp_githubpagetoken}"/>\n      </div>\n      \n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">GithubPage仓库用户名</label>\n        <input class="mdui-textfield-input" id="hpp_githubpageusername" value="${t.hpp_githubpageusername}"/>\n      </div>\n      \n      \n                    <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">GithubPage仓库名</label>\n        <input class="mdui-textfield-input" id="hpp_githubpagerepo" value="${t.hpp_githubpagerepo}"/>\n      </div>\n                   <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">GithubPage仓库根</label>\n        <input class="mdui-textfield-input" id="hpp_githubpageroot" value="${t.hpp_githubpageroot}"/>\n      </div>\n                     <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">GithubPage仓库分支</label>\n        <input class="mdui-textfield-input" id="hpp_githubpagebranch" value="${t.hpp_githubpagebranch}"/>\n      </div>\n                     \n      \n      \n      \n              </div></div>\n            </div>\n        \n        \n        \n        \n        \n        \n        \n        \n        <div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n              <div class="mdui-panel-item-header">CloudFlare配置(必填)</div>\n              <div class="mdui-panel-item-body">\n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Global API Key</label>\n        <input class="mdui-textfield-input" id="hpp_CF_Auth_Key" value="${t.hpp_CF_Auth_Key}"/>\n      </div>\n      \n      \n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">目标Workers名称</label>\n        <input class="mdui-textfield-input" id="hpp_script_name" value="${t.hpp_script_name}"/>\n      </div>\n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Workers账户ID</label>\n        <input class="mdui-textfield-input" id="hpp_account_identifier" value="${t.hpp_account_identifier}"/>\n      </div>\n      \n      \n                  <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">账户登录邮箱</label>\n        <input class="mdui-textfield-input" id="hpp_Auth_Email" value="${t.hpp_Auth_Email}"/>\n      </div>\n      \n      \n                  \n                     \n      \n      \n      \n              </div>\n            </div>\n        \n        \n        <div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n              <div class="mdui-panel-item-header">TwikooPlusPlus</div>\n              <div class="mdui-panel-item-body">\n           <label class="mdui-switch">\n            <input type="checkbox" id="hpp_twikoo"/>\n            <i class="mdui-switch-icon"></i>\t开启TwikooPlusPlus功能\n          </label>\n          \n          <div id="hpp_twikoo_ctx" style="display:none">\n                <div class="mdui-textfield mdui-textfield-floating-label">\n        <label class="mdui-textfield-label">Twikoo环境ID</label>\n        <input class="mdui-textfield-input" id="hpp_twikoo_envId" value="${t.hpp_twikoo_envId}"/>\n      </div>\n      \n      \n              \n      \n                  \n                     \n      \n      \n      \n              </div></div>\n            </div>\n        \n        <div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n              <div class="mdui-panel-item-header">附加配置</div>\n              <div class="mdui-panel-item-body">\n                \n      \n      \n               <label class="mdui-switch">\n            <input type="checkbox" id="hpp_autodate"/>\n            <i class="mdui-switch-icon"></i>\t自动签到功能\n          </label>\n      \n                  \n                     \n      \n      \n      \n              </div>\n            </div>\n        \n        \n          </div>\n        </div>\n      </div>\n    <button class="mdui-btn mdui-btn-raised mdui-center" onclick="upload()" id="bbb">提交配置</button>\n    </div>\n      <div class="mdui-dialog" id="dialogerr">\n        <div class="mdui-dialog-title">出错了！</div>\n        <div class="mdui-dialog-content">上传失败！可能是网络原因，请重试</div>\n      </div>\n      \n        <div class="mdui-dialog" id="dialogok">\n        <div class="mdui-dialog-title">上传成功！</div>\n        <div class="mdui-dialog-content">点击OK进入主面板</div>\n      <div class="mdui-dialog-actions">\n          <button class="mdui-btn mdui-ripple" onclick="window.location.reload()">OK</button>\n        </div>\n      </div>\n    <script src="https://cdn.jsdelivr.net/npm/mdui@1.0.1/dist/js/mdui.min.js"><\/script>\n    \n    <script>\n    document.getElementById('hpp_img').checked = ${t.hpp_img}\n    document.getElementById('hpp_githubpage').checked = ${t.hpp_githubpage}\n    document.getElementById('hpp_twikoo').checked = ${t.hpp_twikoo}\n    document.getElementById('hpp_autodate').checked = ${t.hpp_autodate}\n    document.getElementById('hpp_yuque').checked = ${t.hpp_yuque}\n    <\/script>\n    <script src="${hpp_CDN}install.js"><\/script>\n    </body>\n    </html>`},e=function(t){return`\n    <!DOCTYPE html>\n    <html lang="zh-cmn-Hans">\n     <head>\n      <meta charset="utf-8" />\n      <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />\n      <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1"><\/script>\n      <title>后台</title>\n      <style>\n      .rv-root{\n          z-index:999;\n      }\n      a:link { text-decoration: none;color: white}\n    　　 a:active { text-decoration:blink}\n    　　 a:hover { text-decoration:underline;color: white} \n    　　 a:visited { text-decoration: none;color: white}\n      </style>\n      <link rel="stylesheet" href="${t}login.css" /> \n     </head>\n     <body>\n      <div id="all">\n       <div class="wrapper">\n        <div class="bg-container">\n         <div class="container">\n          <h1 style="margin: 0;" id="bar">Welcome</h1>\n          <form class="form" id="fm">\n           <input id="username" type="text" placeholder="用户名" value="" name="username" />\n           <input id="password" type="password" placeholder="密码" value="" name="password" />\n           <button type="button" id="login-button">登录</button>\n           <br />\n           <br />\n           <a href="https://github.com/HexoPlusPlus/HexoPlusPlus" id="tips" style="color: #fff;">@HexoPP</a>\n          </form>\n         </div>\n        </div>\n        <ul class="bg-bubbles">\n         <li></li>\n         <li></li>\n         <li></li>\n         <li></li>\n         <li></li>\n         <li></li>\n         <li></li>\n         <li></li>\n         <li></li>\n         <li></li>\n        </ul>\n       </div>\n      </div>\n      <script src="${t}md5.js"><\/script>\n      <script>\n    document.onkeydown=keyListener;\n    function login(){\n    document.cookie = "username=" + md5(document.getElementById("username").value);\n    document.cookie = "password=" + md5(document.getElementById("password").value);\n    window.location.href = '/hpp/admin/dash/home';\n    }\n    function keyListener(e){\n        if(e.keyCode == 13){\n            login();\n        }\n    }\n    $("#login-button").click(function(event) {\n    login();\n    });\n      <\/script>\n      </body>\n    </html>\n    `},n='<div class="content"><div class="container-fluid"><div class="row"><div class="col-md-12"><div class="card"><div class="card-header card-header-primary"><h4 class="card-title">404</h4><p class="card-category">我们不知道您的需求</p></div></br><div class="card-body"><a href="/hpp/admin/dash/home">回到主页</a></div></div></div></div></div></div>',a=function(t){return`<div class="content">\n<div class="container-fluid">\n  <div class="row">\n    <div class="col-lg-6 col-md-6 col-sm-6">\n      <div class="card card-stats">\n        <div class="card-header card-header-warning card-header-icon">\n          <div class="card-icon">\n            <i class="fa fa-file"></i>\n          </div>\n          <p class="card-category">总文档数</p>\n          <h3 class="card-title" id="document_all">NaN\n            <small>个</small>\n          </h3>\n        </div>\n        <div class="card-footer">\n        <div class="stats">\n            <a href="/hpp/admin/dash/edit" style="color: #cf6ae0 !important"><i class="fa fa-pencil"></i>前往管理</a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-lg-6 col-md-6 col-sm-6">\n      <div class="card card-stats">\n        <div class="card-header card-header-success card-header-icon">\n          <div class="card-icon">\n            <i class="fa fa-image"></i>\n          </div>\n          <p class="card-category">总图片数</p>\n          <h3 class="card-title" id="img_all">NaN\n            <small>张</small>\n          </h3>\n        </div>\n        <div class="card-footer">\n        <div class="stats">\n            <a href="/hpp/admin/dash/img_man" style="color: #cf6ae0 !important"><i class="fa fa-upload"></i>前往管理</a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-lg-6 col-md- col-sm-6">\n      <a href="javascript:checkUpdate()">\n      <div class="card card-stats">\n        <div class="card-header card-header-info card-header-icon">\n          <div class="card-icon">\n            <i class="fa fa-upload"></i>\n          </div>\n          <p class="card-category">当前版本</p>\n          <h3 class="card-title">${t}</h3>\n        </div>\n        <div class="card-footer">\n          <div class="stats">\n            <i class="material-icons">update</i>点击更新\n          </div>\n        </div>\n      </div>\n    </a>\n    </div>\n    \n    \n    \n    <div class="col-lg-6 col-md-6 col-sm-6">\n      <a href="https://jq.qq.com/?_wv=1027&k=rAcnhzqK" target="_blank">\n      <div class="card card-stats">\n        <div class="card-header card-header-success card-header-icon">\n          <div class="card-icon">\n            <i class="fa fa-qq"></i>\n          </div>\n          <h3 class="card-title">QQ群聊天去？</h3>\n        </div>\n        <div class="card-footer">\n        诚聘小白鼠(bushi\n        </div>\n      </div>\n    </a>\n    </div>\n    \n    <div class="col-lg-6 col-md-6 col-sm-6">\n      <a href="https://hexoplusplus.js.org" target="_blank">\n      <div class="card card-stats">\n        <div class="card-header card-header-normal card-header-icon">\n          <div class="card-icon">\n            <i class="fa fa-book"></i>\n          </div>\n          <h3 class="card-title">文档地址</h3>\n        </div>\n        <div class="card-footer">有多少人没看文档来提issues？\n        </div>\n      </div>\n    </a>\n    </div>\n    \n    <div class="col-lg-6 col-md-6 col-sm-6">\n      <a href="https://github.com/HexoPlusPlus/HexoPlusPlus" target="_blank">\n      <div class="card card-stats">\n        <div class="card-header card-header-primary card-header-icon">\n          <div class="card-icon">\n            <i class="fa fa-github"></i>\n          </div>\n          <h3 class="card-title">Github</h3>\n        </div>\n        <div class="card-footer">\n        欢迎PR\n        </div>\n      </div>\n    </a>\n    </div>\n    \n  </div>\n</div>\n</div>`},l='<div class="content">\n<div class="container-fluid">\n  <div class="row">\n    <div class="col-md-12">\n      <div class="card">\n        <div class="card-header card-header-primary">\n          <h4 class="card-title">书写</h4>\n          <p class="card-category">Wrtie</p>\n        </div>\n      </br>\n        <div class="card-body">\n                  <div class="col-md-8">\n                      <label class="bmd-label-floating">文件选择</label>\n                      <select id="choo" class="form-control form-control-chosen" style="display: inline;"></select>\n                      <button type="submit" class="btn btn-success" onclick="javascript:hpp_get_md()">获取文章</button>\n                      <button type="submit" class="btn btn-normal" onclick="javascript:hpp_get_draft()">获取艹稿</button>\n                      <button type="submit" class="btn btn-danger" onclick="javascript:hpp_del_index()">徒手清索引</button>\n                  </div>\n                \n                <div class="row">\n                  <div class="col-md-12">\n                    <div class="form-group">\n                      <label>内容</label>\n                      <div class="form-group" id="hpp_doc_editor">\n                        \n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <button type="submit" class="btn btn-normal pull-right" onclick="javascript:hpp_upload_draft()">发布艹稿</button>\n                <button type="submit" class="btn btn-primary pull-right" onclick="javascript:hpp_upload_md()">发布文件</button>\n                <div class="clearfix"></div>\n                <input type="file" name="upload" id="upload_md" style="display:none"/>\n                <form id="upform" enctype=\'multipart/form-data\' style="display:none;">\n<div class="form-group">\n<label for="upteainput">上传文件</label>\n<input type="file" id="input">\n</div>\n</form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</div>',d=function(t){return`<link rel='stylesheet' type='text/css' href='https://cdn.jsdelivr.net/npm/notyf/notyf.min.css' /> \n<script src="https://cdn.jsdelivr.net/npm/notyf/notyf.min.js"><\/script><script src="https://cdn.jsdelivr.net/gh/indrimuska/jquery-editable-select/dist/jquery-editable-select.min.js"><\/script><script src='${hpp_CDN}edit.js'><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.min.js"><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.plugins.min.js"><\/script><link rel="stylesheet" href="${hpp_CDN}OwO.min.css">\n<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.5.0/build/highlight.min.js"><\/script>\n<link rel='stylesheet' type='text/css' href='https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.5.0/build/styles/${t}.min.css' />`},p='<div class="content">\n    <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="card">\n            <div class="card-header card-header-primary">\n              <h4 class="card-title">说说</h4>\n              <p class="card-category">Talk</p>\n            </div>\n          </br>\n            <div class="card-body">\n                      \n                    \n                    <div class="row">\n                      <div class="col-md-12">\n                        <div class="form-group">\n                          <label>书写</label>\n                          <div class="form-group" id="hpp_talk_editor"></div>\n                        </div>\n                      </div>\n                    </div>\n                    <button type="submit" class="btn btn-primary pull-right" onclick="javascript:hpp_upload_md()">Upload</button>\n                    <div class="clearfix"></div>\n                    <input type="file" name="upload" id="upload_md" style="display:none"/>\n                    <form id="upform" enctype=\'multipart/form-data\' style="display:none;">\n<div class="form-group">\n    <label for="upteainput">上传文件</label>\n    <input type="file" id="input">\n</div>\n</form><div id="hpp_talk"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>',o=function(t){return`<link rel='stylesheet' type='text/css' href='https://cdn.jsdelivr.net/npm/notyf/notyf.min.css' /> <script src="https://cdn.jsdelivr.net/npm/notyf/notyf.min.js"><\/script><link rel="stylesheet" href="${t}talk.css" /><script src='${t}talk.js'><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.min.js"><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.plugins.min.js"><\/script><link rel="stylesheet" href="${t}OwO.min.css">`},u='\n<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title ">文章列表</h4>\n                  <p class="card-category">这里列出了你所有文章</p>\n                </div>\n                <div class="card-body">\n                  <div class="table-responsive">\n\t\t\t\t  <input type="text" id="search_Input" onkeyup="hpp_search()" placeholder="搜索文章...">\n                    <table class="table" id="hpp_table">\n                      <thead class="text-primary">\n                        <th>\n                          名称\n                        </th>\n                        <th>\n                          大小\n                        </th>\n                        <th>发布状态</th><th></th>\n                        <th></th><th></th><th></th>\n                      </thead>\n                      <tbody id="tbody_doc">\n\t\t\t\t\t\t\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',h='<div class="content">\n      <div class="container-fluid">\n        <div class="row">\n          <div class="col-md-12">\n            <div class="card">\n              <div class="card-header card-header-primary">\n                <h4 class="card-title ">图片列表</h4>\n                <p class="card-category">这里列出了你所有图片</p>\n              </div>\n              <div class="card-body">\n                <div class="table-responsive">\n                <input type="text" id="search_Input" onkeyup="hpp_search()" placeholder="搜索图片...">\n                  <table class="table" id="hpp_table">\n                    <thead class=" text-primary">\n                      <th>\n                        名称\n                      </th>\n                      <th>\n                        大小\n                      </th><th>预览</th>\n                      <th></th>\n                      <th></th><th></th><th></th><th></th>\n                    </thead>\n                    <tbody id="tbody_img">\n                      \n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>',v='<div class="content">\n    <div class="container-fluid">\n      <div class="row">\n    \n        \n        <div class="col-lg-6 col-md-6 col-sm-6">\n          <a href="javascript:hpp_artitalk_into_hpptalk()">\n          <div class="card card-stats">\n            <div class="card-header card-header-primary card-header-icon">\n              <div class="card-icon">\n                <i class="fa fa-download"></i>\n              </div>\n              <h3 class="card-title">从Artitalk中导入</h3>\n            </div>\n            <div class="card-footer">这不是抢生意啊喂\n            </div>\n          </div>\n        </a>\n        </div>\n        \n        <div class="col-lg-6 col-md-6 col-sm-6">\n          <a href="javascript:hpp_del_all()">\n          <div class="card card-stats">\n            <div class="card-header card-header-danger card-header-icon">\n              <div class="card-icon">\n                <i class="fa fa-close"></i>\n              </div>\n              <h3 class="card-title">销毁配置</h3>\n            </div>\n            <div class="card-footer">\n              <div class="stats">\n                <i class="material-icons text-danger">warning</i>高危操作，你知道会发生什么的\n              </div>\n            </div>\n          </div>\n        </a>\n        </div>\n        \n        \n      </div>\n    </div>\n  </div>',f=function(t){return`<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/brutaldesign/swipebox/src/css/swipebox.css"><script src='${t}img_man.js'><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.min.js"><\/script>\n    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.plugins.min.js"><\/script><script src="https://cdn.jsdelivr.net/gh/brutaldesign/swipebox/src/js/jquery.swipebox.min.js"><\/script>`},b=function(t){return`<script src='${t}home.js'><\/script>`},g=function(t){return`<script src='${t}doc_man.js'><\/script>`},_=function(t){return`<script src='${t}tool.js'><\/script>`},y=function(t,e){return`\n    <!DOCTYPE html>\n    <html lang="en" class="no-js">\n      <head>\n            <meta charset="UTF-8" />\n            <meta http-equiv="X-UA-Compatible" content="IE=edge"> \n            <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" /> \n            <title>HexoPlusPlusError</title>\n            <link rel="stylesheet" type="text/css" href="${e.CDN}error.css" />\n      </head>\n      <body>\n        <div class="container demo-2">\n          <div class="content">\n                    <div id="large-header" class="large-header">\n                        <canvas id="demo-canvas"></canvas>\n                        <h1 class="main-title"><span>Error</span></h1>\n                    </div>\n                    <div class="codrops-header">\n                        <h1>HexoPlusPlus 异常<span>${t}</span></h1>\n                        <nav class="codrops-demos">\n                            <a class="current-demo" href="https://hexoplusplus.js.org">文档</a>\n                            <a class="current-demo" href="https://github.com/HexoPlusPlus/HexoPlusPlus">Github</a>\n                <a class="current-demo" href="https://jq.qq.com/?_wv=1027&k=rAcnhzqK">QQ群寻求帮助</a>\n                        </nav>\n                    </div>\n                </div>\n        </div>\n            <script src="${e.CDN}error.js"><\/script>\n      </body>\n    </html>\n    `},x=function(t,e,i){t.hpp_usericon,t.hpp_usericon,t.hpp_title,t.hpp_plugin,e.CDN,e.CDN,t.hpp_theme_mode,JSON.stringify(t),t.hpp_theme_mode,t.hpp_color,"dark"==t.hpp_theme_mode||t.hpp_bg_color,t.hpp_back,t.hpp_title,i.hpp_home_act,i.hpp_edit_act,i.hpp_talk_act,i.hpp_docs_man_act,i.hpp_img_man_act,i.hpp_tool_act,i.hpp_set_act,t.hpp_userimage},w=function(t){return`\n              \x3c!--innerHTMLEND--\x3e\n  </div>\n  </div>\n  <script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4"><\/script>\n  <script src="https://cdn.jsdelivr.net/npm/sweetalert/dist/sweetalert.min.js"><\/script>\n  <script src="${t.CDN}admin_all.js"><\/script>\n  \n  </body>\n  \n  </html>`};async function k(t,e){let i="";const n=t.headers.get("Cookie");return n&&n.split(";").forEach((t=>{const n=t.split("=",2);if(n[0].trim()===e){const t=n[1];i=t}})),i}function j(t){var e=0;for(var i in t)e++;return e}function $(t){return t.split("?")[0]}function A(t,e,i,n){return m=t||"未知的错误",c=e||"-1",s=i||500,co=n||"",r={msg:m,code:c,content:co},new Response(JSON.stringify(r),{status:s,headers:{"content-type":"application/javascript; charset=utf-8","Access-Control-Allow-Origin":"*"}})}const N={};async function P(t){return(await async function(t){const e=t.username,i=t.reponame,n=t.path||"/",a=t.branch||"main",l=t.token||"",s=`https://api.github.com/repos/${e}/${i}/contents${n}?ref=${a}`,d={method:"GET",headers:{"content-type":"application/json;charset=UTF-8","user-agent":"HexoPlusPlus Github Filer",Authorization:"token "+l}};return""==l&&delete d.headers.Authorization,await(await fetch(s,d)).json()}(t)).filter((function(e){return e.name==t.filename}))[0].sha}async function E(t){const e=t.username,i=t.reponame,n=t.path||"/",a=t.filename,l=t.branch||"main",s=t.token||"",d=t.sha||P(t),c=`https://api.github.com/repos/${e}/${i}/contents${n}${a}?ref=${l}`,p={branch:l,message:t.message||"Upload By HexoPlusPlus With Love",content:t.file,sha:d};let r={body:JSON.stringify(p),method:"PUT",headers:{"content-type":"application/json;charset=UTF-8","user-agent":"HexoPlusPlus Github Filer",Authorization:"token "+s}};return""==s&&delete r.headers.Authorization,fetch(c,r)}async function T(t){const e=t.username,i=t.reponame,n=t.path||"/",a=t.filename,l=t.branch||"main",s=t.token||"",d=t.sha||P(t),c=`https://api.github.com/repos/${e}/${i}/contents${n}${a}?ref=${l}`,p={branch:l,message:t.message||"Delete By HexoPlusPlus With Love",sha:d};let r={body:JSON.stringify(p),method:"DELETE",headers:{"content-type":"application/json;charset=UTF-8","user-agent":"HexoPlusPlus Github Filer",Authorization:"token "+s}};return""==s&&delete r.headers.Authorization,fetch(c,r)}async function q(t){const e=t.username,i=t.reponame,n=t.path||"/",a=t.filename,l=t.branch||"main",s=t.token||"",d=`https://raw.githubusercontent.com/${e}/${i}/${l}${n}${a}`;let c={headers:{Accept:"application/vnd.github.v3.raw",Authorization:`token ${s}`}};return""==s&&delete c.headers.Authorization,fetch(d,c)}async function K(t){const e=t.username,i=t.reponame,n=t.token,a=`https://api.github.com/repos/${e}/${i}/releases/latest`;let l={method:"GET",headers:{"content-type":"application/json;charset=UTF-8","user-agent":"HexoPlusPlus Github Filer",Authorization:"token "+n}};return""==n&&delete l.headers.Authorization,await(await fetch(a,l)).json()}async function C(t){return(await K(t)).tag_name}async function O(t,e){let i="dist";e||(i=await C({username:"HexoPlusPlus",reponame:"HexoPlusPlus",token:t.hpp_githubdoctoken||t.hpp_githubimagetoken||""}));const n=`https://raw.githubusercontent.com/HexoPlusPlus/HexoPlusPlus/${i}/index.worker.js`,a={body:await(await fetch(n)).text(),method:"PUT",headers:{"content-type":"application/javascript","X-Auth-Key":t.hpp_CF_Auth_Key,"X-Auth-Email":t.hpp_Auth_Email}};return(await(await fetch(`https://api.cloudflare.com/client/v4/accounts/${t.hpp_account_identifier}/workers/scripts/${t.hpp_script_name}`,a)).json()).success?A("更新是成功的!",0,200):A("更新是失败的!",-1,500)}async function S(t,e,i,n,a){return m=e?"HPPTALK组件:"+e:"HPPTALK组件:未知的错误",c=i||"-1",s=n||500,co=a||"",r={msg:m,code:c,content:co},new Response(JSON.stringify(r),{status:s,headers:{"content-type":"application/javascript; charset=utf-8","Access-Control-Allow-Origin":t.hpp_cors}})}async function M(t,e,i,n){try{const l=await e.json();let s,d,c,p,r,o,u;if(login=i||!1,login)switch(l.action){case"initialization":return await KVNAME.put("htalk","{}"),S(t,"初始化成功",200,0,"");case"get":c=await KVNAME.get("htalk",{type:"json"}),s=l.limit,d=l.start||c.nid,r=[],p=d;for(var a=0;a<s;a++)c.data[p]?(r.push(c.data[p]),p--):(a--,p--);return S(t,`在${login?"已登录":"未登录"}的状态下,已成功获得说说数据`,200,0,JSON.stringify(r));case"add":return c=await KVNAME.get("htalk",{type:"json"}),o={id:c.nid+1,time:l.time,name:l.name||n.username,avatar:l.avatar,content:l.content,visible:!0},c.data.push(o),c.nid+=1,await KVNAME.put("htalk",JSON.stringify(c)),S(t,"已成功上传说说数据",200,0,"");case"del":return c=await KVNAME.get("htalk",{type:"json"}),delete c.data[l.id],await KVNAME.put("htalk",JSON.stringify(c)),S(t,`已成功删除id为${l.id}的数据`,200,0,"");case"visible":return c=await KVNAME.get("htalk",{type:"json"}),c.data[l.id].visible=!c.data[l.id].visible,await KVNAME.put("htalk",JSON.stringify(c)),S(t,`已改变id为${l.id}的数据的可见性`,200,0,"");case"inputartitalk":for(c=await KVNAME.get("htalk",{type:"json"}),a=0;a<l.ctx.length;a++)c.nid++,u={id:hpp_talk_id,time:l.ctx[a].updatedAt.split("T")[0],name:n.username,avatar:l.ctx[a].avatar,content:l.ctx[a].atContentHtml,visible:"True"},c.data[c.nid]=u;return await KVNAME.put("htalk",JSON.stringify(c)),S(t,`已导入${l.ctx.length}条!`,200,0,"");default:return S(t,"未知的操作",500,-1,"")}else switch(l.action){case"get":for(c=await KVNAME.get("htalk",{type:"json"}),s=l.limit,d=l.start||c.nid,r=[],p=d,a=0;a<s;a++)(function(){try{return c.data[p].visible}catch(t){return!1}})()&&c.data[p]?(r.push(c.data[p]),p--):(a--,p--);return S(t,`在${login?"已登录":"未登录"}的状态下,已成功获得说说数据`,200,0,JSON.stringify(r));default:return S(t,"未知的操作",500,-1,"")}}catch(e){return S(t,e,500,-1,"")}}const z=i(735);let V={ver:"HexoPlusPlus@1.2.1_β_3",CDN:"https://hppstatic.pages.dev/"};const D=V.ver,G=V.CDN;addEventListener("fetch",(i=>{i.respondWith(async function(i){try{let c=!1;const r=i.url,m=new URL(r),y=m.href.substr(m.origin.length),P=r.split("/")[2],S=hpp_username.split(","),R=hpp_password.split(",");V.username=S;const H=await KVNAME.get("hpp_config"),B=function(t){for(var e in t=t||N,N)null==t[e]&&(t[e]=N[e]);return t.hpp_githubdocpath=t.hpp_githubdocroot+"source/_posts/",t.hpp_githubdocdraftpath=t.hpp_githubdocroot+"source/_drafts/",t.githubdocdraftpath=encodeURI(t.hpp_githubdocdraftpath),t.githubdocpath=encodeURI(t.hpp_githubdocpath),t.githubimagepath=encodeURI(t.hpp_githubimagepath),t}(JSON.parse(JSON.parse(H)));for(var s=0;s<j(S);s++)k(i,"password")==z(R[s])&&k(i,"username")==z(S[s])&&(c=!0);if(y.startsWith("/hpp/admin")){if(!c)return"/hpp/admin/login"==$(y)?new Response(e(G),{headers:{"content-type":"text/html;charset=UTF-8"}}):Response.redirect(`https://${P}/hpp/admin/login`,302);if("/hpp/admin/api/upconfig"==$(y)){const t=JSON.stringify(await i.text());return await KVNAME.put("hpp_config",t),new Response("OK")}if("/hpp/admin/install"==$(y)){let e=t(B,V);return new Response(e,{headers:{"content-type":"text/html;charset=UTF-8"}})}if("True"==B.hpp_autodate){const t=Date.now(new Date);await KVNAME.put("hpp_activetime",t),Date.now(new Date)}if(y.startsWith("/hpp/admin/dash")){let t={hpp_home_act:"",hpp_edit_act:"",hpp_talk_act:"",hpp_docs_man_act:"",hpp_img_man_act:"",hpp_tool_act:"",hpp_set_act:""},e=n;"/hpp/admin/dash/home"==$(y)&&(t.hpp_home_act=" active",e=a(D),hpp_js=b(D)),"/hpp/admin/dash/edit"==$(y)&&(t.hpp_edit_act=" active",e=l,hpp_js=d(B.hpp_highlight_style)),"/hpp/admin/dash/talk"==$(y)&&(t.hpp_talk_act=" active",e=p,hpp_js=o(G)),"/hpp/admin/dash/docs_man"==$(y)&&(t.hpp_docs_man_act=" active",e=u,hpp_js=g(G)),"/hpp/admin/dash/img_man"==$(y)&&(t.hpp_img_man_act=" active",e=h,hpp_js=f(G)),"/hpp/admin/dash/tool"==$(y)&&(t.hpp_tool_act=" active",e=v,hpp_js=_(G));let i=`${x(B,V,t)}${e}${w(V)}`;return new Response(i,{headers:{"content-type":"text/html;charset=UTF-8"}})}if("/hpp/admin/api/github"==$(y))try{let t,e,n,a,l;const s=await i.json();switch(s.action){case"adddoc":return t=await E({file:s.file,username:B.hpp_githubdocusername,reponame:B.hpp_githubdocrepo,path:B.githubdocpath,branch:B.hpp_githubdocbranch,filename:s.filename,token:B.hpp_githubdoctoken}),e=await e.status,200==e||201==e?201==e?(await KVNAME.delete("hpp_doc_list_index"),A("新建文档成功！",0,e)):A("上传文档成功！",0,e):A("上传/新建文档失败！",1,e);case"adddraft":return t=await E({file:s.file,username:B.hpp_githubdocusername,reponame:B.hpp_githubdocrepo,path:B.githubdocdraftpath,branch:B.hpp_githubdocbranch,filename:s.filename,token:B.hpp_githubdoctoken}),e=await e.status,200==e||201==e?201==e?(await KVNAME.delete("hpp_doc_draft_list_index"),A("上传草稿成功！",0,e)):A("上传草稿成功！",0,e):A("新建草稿失败！",0,e);case"addimg":return n=`${Date.parse(new Date)}.${s.suffix}`,t=await E({file:s.file,username:B.hpp_githubimageusername,reponame:B.hpp_githubimagerepo,path:B.githubimagepath,branch:B.hpp_githubimagebranch,filename:n,token:B.hpp_githubimagetoken}),e=await e.status,200==e||201==e?A("上传图片成功！",0,e,`https://cdn.jsdelivr.net/gh/${B.hpp_githubimageusername}/${B.hpp_githubimagerepo}@${B.hpp_githubimagebranch}${B.hpp_githubimagepath}${n}`):A("上传图片失败！",-1,e);case"deldoc":return t=await T({username:B.hpp_githubdocusername,reponame:B.hpp_githubdocrepo,path:B.githubdocpath,branch:B.hpp_githubdocbranch,filename:s.filename,token:B.hpp_githubdoctoken}),e=await e.status,200==e?(await KVNAME.delete("hpp_doc_list_index"),A("删除文档成功！",0,e)):A("删除文档失败！",-1,e);case"deldraft":return t=await T({username:B.hpp_githubdocusername,reponame:B.hpp_githubdocrepo,path:B.githubdocdraftpath,branch:B.hpp_githubdocbranch,filename:s.filename,token:B.hpp_githubdoctoken}),e=await e.status,200==e?(await KVNAME.delete("hpp_doc_list_index"),A("删除艹稿成功！",0,e)):A("删除艹稿失败！",-1,e);case"delimg":return t=await T({username:B.hpp_githubimageusername,reponame:B.hpp_githubimagerepo,path:B.githubimagepath,branch:B.hpp_githubimagebranch,filename:s.filename,token:B.hpp_githubimagetoken}),e=await e.status,200==e?(await KVNAME.delete("hpp_doc_list_index"),A("删除图片成功！",0,e)):A("删除图片失败！",-1,e);case"getdoc":return q({username:B.hpp_githubdocusername,reponame:B.hpp_githubdocrepo,path:B.githubdocpath,branch:B.hpp_githubdocbranch,filename:s.filename,token:B.hpp_githubdoctoken});case"getdraft":return q({username:B.hpp_githubdocusername,reponame:B.hpp_githubdocrepo,path:B.githubdocdraftpath,branch:B.hpp_githubdocbranch,filename:s.filename,token:B.hpp_githubdoctoken});case"getscaffolds":return q({username:B.hpp_githubdocusername,reponame:B.hpp_githubdocrepo,path:`${hpp_githubdocroot}scaffolds/`,branch:B.hpp_githubdocbranch,filename:"post.md",token:B.hpp_githubdoctoken});case"getdoclist":return a="命中了缓存,获取文章列表成功！",l=await KVNAME.get("hpp_doc_list_index"),null===l&&(l=JSON.stringify(await ghtreelist({username:B.hpp_githubdocusername,reponame:B.hpp_githubdocrepo,path:B.githubdocpath,branch:B.hpp_githubdocbranch,token:B.hpp_githubdoctoken})),await KVNAME.put("hpp_doc_list_index",l),a="没有命中缓存,获取文章列表成功！"),A(a,0,200,l);case"getdraftlist":return a="命中了缓存,获取艹稿列表成功！",l=await KVNAME.get("hpp_doc_draft_list_index"),null===l&&(l=JSON.stringify(await ghtreelist({username:B.hpp_githubdocusername,reponame:B.hpp_githubdocrepo,path:B.githubdocdraftpath,branch:B.hpp_githubdocbranch,token:B.hpp_githubdoctoken})),await KVNAME.put("hpp_doc_draft_list_index",l),a="没有命中缓存,获取艹稿列表成功！"),A(a,0,200,l);case"getimglist":return a="命中了缓存,获取图片列表成功！",l=await KVNAME.get("hpp_img_list_index"),null===l&&(l=JSON.stringify(await ghtreelist({username:B.hpp_githubimageusername,reponame:B.hpp_githubimagerepo,path:B.githubimagepath,branch:B.hpp_githubimagebranch,token:B.hpp_githubimagetoken})),await KVNAME.put("hpp_img_list_index",l),a="没有命中缓存,获取图片列表成功！"),A(a,0,200,l);case"delindex":return await KVNAME.delete("hpp_doc_draft_list_index"),await KVNAME.delete("hpp_doc_list_index"),await KVNAME.delete("hpp_img_list_index"),A("清除索引缓存成功!",0,200);default:throw"未知的操作"}}catch(t){throw t}if("/hpp/admin/api/update"==$(y))try{const t=await i.json();switch(t.action){case"update":return t.dev?O(B,!0):O(B,!1);case"check":return await C(B)==hpp_info.ver?A("不需要更新!",0,200):A("需要更新!",1,200,async function(t){return(await K(t)).body}(B))}}catch(t){throw t}if("/hpp/admin/api/kick"==$(y)){const t=Date.now(new Date);return await KVNAME.put("hpp_activetime",t),new Response("OK")}return"/hpp/admin/api/talk/htalk"==$(y)?M(B,i,loginstatus,V):"/hpp/admin/api/talk/artitalk"==$(y)?new Response("Come Soon!"):Response.redirect(`https://${P}/hpp/admin/dash/home`,302)}if(y.startsWith("/hpp/api")){if("/hpp/api/getblogeractive"==$(y))return async function(t){var e=(Date.parse(new Date)-await KVNAME.get("hpp_activetime"))/1e3;return function(t,e){return new Response(`document.getElementById("bloggeractivetime").innerHTML='${e}'`,{headers:{"content-type":"application/javascript; charset=utf-8","Access-Control-Allow-Origin":t.hpp_cors}})}(t,e<30?"博主刚刚还在这里":e<60?`博主在${Math.round(e)}秒前离开`:e<3600?`博主在${Math.round(e/60)}分钟前偷偷瞄了一眼博客`:`博主在${Math.round(e/3600)}小时前活跃了一次`)}(B);if(y.startsWith("/hpp/api/talk/")){if("/hpp/api/talk/htalk"==$(y))return M(B,i,!1,V);if("/hpp/api/talk/artitalk"==$(y))return new Response("Come Soon!")}if(y.startsWith("/hpp/api/comment/")){if("/hpp/api/comment/Feign_Valine"==$(y))return new Response("Come Soon!");if("/hpp/api/comment/Agent_Valine"==$(y))return new Response("Come Soon!");if("/hpp/api/comment/Feign_Waline"==$(y))return new Response("Come Soon!");if("/hpp/api/comment/Agent_Waline"==$(y))return new Response("Come Soon!");if("/hpp/api/comment/Feign_Artalk"==$(y))return new Response("Come Soon!");if("/hpp/api/comment/Agent_Artalk"==$(y))return new Response("Come Soon!");if("/hpp/api/comment/Feign_Twikoo"==$(y))return new Response("Come Soon!");if("/hpp/api/comment/Feign_Twikoo"==$(y))return new Response("Come Soon!");if("/hpp/api/comment/Agent_Disqus"==$(y))return new Response("Come Soon!");if("/hpp/api/comment/Agent_Gitalk"==$(y))return new Response("Come Soon!")}}}catch(t){return new Response(y(t,V),{headers:{"content-type":"text/html;charset=UTF-8"}})}}(i.request))}))})()})();