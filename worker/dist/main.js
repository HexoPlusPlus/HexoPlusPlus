/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={751:t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=e},41:t=>{var e,n;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],i=0;i<t.length;i+=3)for(var a=t[i]<<16|t[i+1]<<8|t[i+2],s=0;s<4;s++)8*i+6*s<=8*t.length?n.push(e.charAt(a>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,a=0;i<t.length;a=++i%4)0!=a&&n.push((e.indexOf(t.charAt(i-1))&Math.pow(2,-2*a+8)-1)<<2*a|e.indexOf(t.charAt(i))>>>6-2*a);return n}},t.exports=n},34:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},735:(t,e,n)=>{var i,a,s,l,d;i=n(41),a=n(751).utf8,s=n(34),l=n(751).bin,(d=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?l.stringToBytes(t):a.stringToBytes(t):s(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var n=i.bytesToWords(t),c=8*t.length,r=1732584193,p=-271733879,o=-1732584194,h=271733878,u=0;u<n.length;u++)n[u]=16711935&(n[u]<<8|n[u]>>>24)|4278255360&(n[u]<<24|n[u]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var m=d._ff,v=d._gg,f=d._hh,b=d._ii;for(u=0;u<n.length;u+=16){var g=r,x=p,w=o,y=h;r=m(r,p,o,h,n[u+0],7,-680876936),h=m(h,r,p,o,n[u+1],12,-389564586),o=m(o,h,r,p,n[u+2],17,606105819),p=m(p,o,h,r,n[u+3],22,-1044525330),r=m(r,p,o,h,n[u+4],7,-176418897),h=m(h,r,p,o,n[u+5],12,1200080426),o=m(o,h,r,p,n[u+6],17,-1473231341),p=m(p,o,h,r,n[u+7],22,-45705983),r=m(r,p,o,h,n[u+8],7,1770035416),h=m(h,r,p,o,n[u+9],12,-1958414417),o=m(o,h,r,p,n[u+10],17,-42063),p=m(p,o,h,r,n[u+11],22,-1990404162),r=m(r,p,o,h,n[u+12],7,1804603682),h=m(h,r,p,o,n[u+13],12,-40341101),o=m(o,h,r,p,n[u+14],17,-1502002290),r=v(r,p=m(p,o,h,r,n[u+15],22,1236535329),o,h,n[u+1],5,-165796510),h=v(h,r,p,o,n[u+6],9,-1069501632),o=v(o,h,r,p,n[u+11],14,643717713),p=v(p,o,h,r,n[u+0],20,-373897302),r=v(r,p,o,h,n[u+5],5,-701558691),h=v(h,r,p,o,n[u+10],9,38016083),o=v(o,h,r,p,n[u+15],14,-660478335),p=v(p,o,h,r,n[u+4],20,-405537848),r=v(r,p,o,h,n[u+9],5,568446438),h=v(h,r,p,o,n[u+14],9,-1019803690),o=v(o,h,r,p,n[u+3],14,-187363961),p=v(p,o,h,r,n[u+8],20,1163531501),r=v(r,p,o,h,n[u+13],5,-1444681467),h=v(h,r,p,o,n[u+2],9,-51403784),o=v(o,h,r,p,n[u+7],14,1735328473),r=f(r,p=v(p,o,h,r,n[u+12],20,-1926607734),o,h,n[u+5],4,-378558),h=f(h,r,p,o,n[u+8],11,-2022574463),o=f(o,h,r,p,n[u+11],16,1839030562),p=f(p,o,h,r,n[u+14],23,-35309556),r=f(r,p,o,h,n[u+1],4,-1530992060),h=f(h,r,p,o,n[u+4],11,1272893353),o=f(o,h,r,p,n[u+7],16,-155497632),p=f(p,o,h,r,n[u+10],23,-1094730640),r=f(r,p,o,h,n[u+13],4,681279174),h=f(h,r,p,o,n[u+0],11,-358537222),o=f(o,h,r,p,n[u+3],16,-722521979),p=f(p,o,h,r,n[u+6],23,76029189),r=f(r,p,o,h,n[u+9],4,-640364487),h=f(h,r,p,o,n[u+12],11,-421815835),o=f(o,h,r,p,n[u+15],16,530742520),r=b(r,p=f(p,o,h,r,n[u+2],23,-995338651),o,h,n[u+0],6,-198630844),h=b(h,r,p,o,n[u+7],10,1126891415),o=b(o,h,r,p,n[u+14],15,-1416354905),p=b(p,o,h,r,n[u+5],21,-57434055),r=b(r,p,o,h,n[u+12],6,1700485571),h=b(h,r,p,o,n[u+3],10,-1894986606),o=b(o,h,r,p,n[u+10],15,-1051523),p=b(p,o,h,r,n[u+1],21,-2054922799),r=b(r,p,o,h,n[u+8],6,1873313359),h=b(h,r,p,o,n[u+15],10,-30611744),o=b(o,h,r,p,n[u+6],15,-1560198380),p=b(p,o,h,r,n[u+13],21,1309151649),r=b(r,p,o,h,n[u+4],6,-145523070),h=b(h,r,p,o,n[u+11],10,-1120210379),o=b(o,h,r,p,n[u+2],15,718787259),p=b(p,o,h,r,n[u+9],21,-343485551),r=r+g>>>0,p=p+x>>>0,o=o+w>>>0,h=h+y>>>0}return i.endian([r,p,o,h])})._ff=function(t,e,n,i,a,s,l){var d=t+(e&n|~e&i)+(a>>>0)+l;return(d<<s|d>>>32-s)+e},d._gg=function(t,e,n,i,a,s,l){var d=t+(e&i|n&~i)+(a>>>0)+l;return(d<<s|d>>>32-s)+e},d._hh=function(t,e,n,i,a,s,l){var d=t+(e^n^i)+(a>>>0)+l;return(d<<s|d>>>32-s)+e},d._ii=function(t,e,n,i,a,s,l){var d=t+(n^(e|~i))+(a>>>0)+l;return(d<<s|d>>>32-s)+e},d._blocksize=16,d._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=i.wordsToBytes(d(t,e));return e&&e.asBytes?n:e&&e.asString?l.bytesToString(n):i.bytesToHex(n)}}},e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}(()=>{const t=n(735),e="HexoPlusPlus@1.2.1_β_1";let i=0;function a(t){var e=0;for(var n in t)e++;return e}function s(t,e){let n="";const i=t.headers.get("Cookie");return i&&i.split(";").forEach((t=>{const i=t.split("=",2);if(i[0].trim()===e){const t=i[1];n=t}})),n}addEventListener("fetch",(n=>{n.respondWith(async function(n){try{const p=n.url,o=new URL(p),h=o.href.substr(o.origin.length),u=p.split("/")[2],m=hpp_username.split(","),v=hpp_password.split(",");for(var l=0;l<a(m);l++)s(n,"password")==t(v[l])&&s(n,"username")==t(m[l])&&(i=1);if(h.startsWith("/hpp/admin")){if(1!=i){if("/hpp/admin/login"==h){let t="",e="",n="";try{captcha=hpp_captcha}catch(t){captcha="Flase"}"True"!=captcha&&(t="//",e="\x3c!--",n="--\x3e");let i=`\n<!DOCTYPE html>\n<html lang="zh-cmn-Hans">\n <head>\n  <meta charset="utf-8" />\n  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />\n  <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1"><\/script>\n  <title>后台</title>\n  <style>\n  .rv-root{\n      z-index:999;\n  }\n  a:link { text-decoration: none;color: white}\n　　 a:active { text-decoration:blink}\n　　 a:hover { text-decoration:underline;color: white} \n　　 a:visited { text-decoration: none;color: white}\n  </style>\n  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/login.css" /> \n </head>\n <body>\n  <div id="all">\n   <div class="wrapper">\n    <div class="bg-container">\n     <div class="container">\n      <h1 style="margin: 0;" id="bar">Welcome</h1>\n      <form class="form" id="fm">\n       <input id="username" type="text" placeholder="用户名" value="" name="username" />\n       <input id="password" type="password" placeholder="密码" value="" name="password" />\n       <button type="button" id="login-button">登录</button>\n       <br />\n       <br />\n       <a href="https://github.com/HexoPlusPlus/HexoPlusPlus" id="tips" style="color: #fff;">@HexoPP</a>\n      </form>\n     </div>\n    </div>\n    <ul class="bg-bubbles">\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n    </ul>\n   </div>\n  </div>\n  <script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/md5.js"><\/script>\n  ${e}<script src="https://cdn.jsdelivr.net/gh/zpfz/RVerify.js/dist/RVerify.min.js"><\/script>${n}\n\t  ${e}<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zpfz/RVerify.js/dist/RVerify.min.css"/>${n}\n  <script>\ndocument.onkeydown=keyListener;\n${t}  RVerify.configure({\n${t}   mask: 0.5,\n${t}   maskClosable: true,\n${t}   title: '人机验证',\n${t}   album: ['/hpp/api/captchaimg']\n${t} })\nfunction login(){\n${t} RVerify.action(function(res){\n${t} if(res==1){\ndocument.cookie = "username=" + md5(document.getElementById("username").value);\ndocument.cookie = "password=" + md5(document.getElementById("password").value);\nwindow.location.href = '/hpp/admin/dash/home';\n${t} }\n${t}});\n}\nfunction keyListener(e){\n    if(e.keyCode == 13){\n        login();\n    }\n}\n$("#login-button").click(function(event) {\nlogin();\n});\n  <\/script>\n  </body>\n</html>\n`;return new Response(i,{headers:{"content-type":"text/html;charset=UTF-8"}})}return Response.redirect("https://"+u+"/hpp/admin/login",302)}{const t=await KVNAME.get("hpp_config");if(null===t){if("/hpp/admin/api/upconfig"==h){const t=JSON.stringify(await n.text());return await KVNAME.put("hpp_config",t),new Response("OK")}{let t=`<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n  <meta name="viewport" content="width=device-width">\n  <title>欢迎 | ${e}</title>\n  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@1.0.1/dist/css/mdui.min.css"/>\n</head>\n<body style="mdui-theme-layout-dark">\n<div class="mdui-container">\n  <div class="mdui-toolbar">\n    <a id="_menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>\n    <span class="mdui-typo-title">${e}安装</span>\n    <div class="mdui-toolbar-spacer"></div>\n  </div>\n</div>\n\n<div class="mdui-drawer mdui-drawer-close" id="drawer" style="background-color:#fff">\n  <ul class="mdui-list" id="_li">\n  <li class="mdui-list-item mdui-ripple">\n  <a href="https://hexoplusplus.js.org">\n      <div class="mdui-list-item-content">寻求帮助</div></a></li><li class="mdui-list-item mdui-ripple">\n\t    <a href="https://github.com/hexoplusplus/hexoplusplus">\n      <div class="mdui-list-item-content">项目地址</div></a></li><li class="mdui-list-item mdui-ripple">\n\t    <a href="https://jq.qq.com/?_wv=1027&k=rAcnhzqK">\n      <div class="mdui-list-item-content">加群帮助</div></a>\n    </li>\n</ul></div>\n\n<div class="mdui-container">\n\n  <div class="mdui-row">\n    <div class="mdui-m-b-3">\n      <div class="mdui-panel" id="panel">\n        <div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n          <div class="mdui-panel-item-header">基础配置(必填)</div>\n          <div class="mdui-panel-item-body">\n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">域名</label>\n    <input class="mdui-textfield-input" id="hpp_domain"/>\n  </div>\n  \n  \n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">头像地址</label>\n    <input class="mdui-textfield-input" id="hpp_userimage"/>\n  </div>\n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">标题</label>\n    <input class="mdui-textfield-input" id="hpp_title"/>\n  </div>\n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">icon地址</label>\n    <input class="mdui-textfield-input" id="hpp_usericon"/>\n  </div>\n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">跨域请求</label>\n    <input class="mdui-textfield-input" id="hpp_cors"/>\n  </div>\n  \n  \n              \n  \n  \n          </div>\n        </div>\n\t\t\n\t\t<div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n          <div class="mdui-panel-item-header">面板配置(必填)</div>\n          <div class="mdui-panel-item-body">\n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">OWOJSON地址</label>\n    <input class="mdui-textfield-input" id="hpp_OwO"/>\n  </div>\n  \n  \n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">面板背景图片</label>\n    <input class="mdui-textfield-input" id="hpp_back"/>\n  </div>\n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">懒加载图片</label>\n    <input class="mdui-textfield-input" id="hpp_lazy_img"/>\n  </div>\n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">高亮样式</label>\n    <input class="mdui-textfield-input" id="hpp_highlight_style"/>\n  </div>\n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">面板选项卡颜色</label>\n    <input class="mdui-textfield-input" id="hpp_color"/>\n  </div>\n  \n                <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">面板选项框颜色</label>\n    <input class="mdui-textfield-input" id="hpp_bg_color"/>\n  </div>\n                <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">面板主题色</label>\n    <input class="mdui-textfield-input" id="hpp_theme_mode"/>\n  </div>\n              \n               <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">列表限制数量</label>\n    <input class="mdui-textfield-input" id="hpp_page_limit"/>\n  </div>\n              \n  \n          </div>\n        </div>\n\t\t\n\t\t\n\t\t<div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n          <div class="mdui-panel-item-header">Github文档配置</div>\n          <div class="mdui-panel-item-body">\n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Github文档仓库Token</label>\n    <input class="mdui-textfield-input" id="hpp_githubdoctoken"/>\n  </div>\n  \n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Github文档仓库用户名</label>\n    <input class="mdui-textfield-input" id="hpp_githubdocusername"/>\n  </div>\n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Github文档仓库名</label>\n    <input class="mdui-textfield-input" id="hpp_githubdocrepo"/>\n  </div>\n  \n                <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Github文档仓库根目录</label>\n    <input class="mdui-textfield-input" id="hpp_githubdocroot"/>\n  </div>\n              \n                 <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Github文档仓库分支</label>\n    <input class="mdui-textfield-input" id="hpp_githubdocbranch"/>\n  </div>\n                 \n  \n  \n  \n          </div>\n        </div>\n\t\t\n\t\t<div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n          <div class="mdui-panel-item-header">图床配置</div>\n          <div class="mdui-panel-item-body">\n\t\t  \n\t\t  \n  <label class="mdui-switch">\n        <input type="checkbox" id="hpp_img"/>\n        使用Github图床，由HPP托管 <i class="mdui-switch-icon"></i>  自定义图床 \n      </label>\n  \n  <div id="githubimg" >\n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Github图片仓库Token</label>\n    <input class="mdui-textfield-input" id="hpp_githubimagetoken"/>\n  </div>\n  \n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Github图片仓库用户名</label>\n    <input class="mdui-textfield-input" id="hpp_githubimageusername"/>\n  </div>\n  \n  \n                <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Github图片仓库名</label>\n    <input class="mdui-textfield-input" id="hpp_githubimagerepo"/>\n  </div>\n               <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Github图片仓库路径</label>\n    <input class="mdui-textfield-input" id="hpp_githubimagepath"/>\n  </div>\n                 <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Github图片仓库分支</label>\n    <input class="mdui-textfield-input" id="hpp_githubimagebranch"/>\n  </div>\n                 \n  \n  \n  \n          </div>\n\t\t  \n\t\t    <div id="ownimg" style="display:none">\n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">自定义接口地址</label>\n    <input class="mdui-textfield-input" id="hpp_ownimgurl"/>\n  </div>\n  \n  <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">POST参数名</label>\n    <input class="mdui-textfield-input" id="hpp_ownimgname"/>\n  </div>\n  <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">JSON路径</label>\n    <input class="mdui-textfield-input" id="hpp_ownimgjsonpath"/>\n  </div>\n  <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">自定义头</label>\n    <input class="mdui-textfield-input" id="hpp_ownimgheader"/>\n  </div>\n  <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">自定义method</label>\n    <input class="mdui-textfield-input" id="hpp_ownimgmethod"/>\n  </div>\n  \n          </div>\n\t\t  \n\t\t  \n\t\t  </div>\n        </div>\n\t\t\n\t\t\n\t\t\n\t\t<div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n          <div class="mdui-panel-item-header">Github私有Page配置</div>\n          <div class="mdui-panel-item-body">\n   <label class="mdui-switch">\n        <input type="checkbox" id="hpp_githubpage"/>\n        <i class="mdui-switch-icon"></i> 开启PrivatePage模式 \n      </label><div id="hpp_githubpage_ctx" style="display:none">\n  \n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">GithubPage仓库Token</label>\n    <input class="mdui-textfield-input" id="hpp_githubpagetoken"/>\n  </div>\n  \n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">GithubPage仓库用户名</label>\n    <input class="mdui-textfield-input" id="hpp_githubpageusername"/>\n  </div>\n  \n  \n                <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">GithubPage仓库名</label>\n    <input class="mdui-textfield-input" id="hpp_githubpagerepo"/>\n  </div>\n               <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">GithubPage仓库根</label>\n    <input class="mdui-textfield-input" id="hpp_githubpageroot"/>\n  </div>\n                 <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">GithubPage仓库分支</label>\n    <input class="mdui-textfield-input" id="hpp_githubpagebranch"/>\n  </div>\n                 \n  \n  \n  \n          </div></div>\n        </div>\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t<div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n          <div class="mdui-panel-item-header">CloudFlare配置(必填)</div>\n          <div class="mdui-panel-item-body">\n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Global API Key</label>\n    <input class="mdui-textfield-input" id="hpp_CF_Auth_Key"/>\n  </div>\n  \n  \n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">目标Workers名称</label>\n    <input class="mdui-textfield-input" id="hpp_script_name"/>\n  </div>\n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Workers账户ID</label>\n    <input class="mdui-textfield-input" id="hpp_account_identifier"/>\n  </div>\n  \n  \n              <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">账户登录邮箱</label>\n    <input class="mdui-textfield-input" id="hpp_Auth_Email"/>\n  </div>\n  \n  \n              \n                 \n  \n  \n  \n          </div>\n        </div>\n\t\t\n\t\t\n\t\t<div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n          <div class="mdui-panel-item-header">TwikooPlusPlus</div>\n          <div class="mdui-panel-item-body">\n\t\t   <label class="mdui-switch">\n        <input type="checkbox" id="hpp_twikoo"/>\n        <i class="mdui-switch-icon"></i>\t开启TwikooPlusPlus功能\n      </label>\n\t\t  \n\t\t  <div id="hpp_twikoo_ctx" style="display:none">\n            <div class="mdui-textfield mdui-textfield-floating-label">\n    <label class="mdui-textfield-label">Twikoo环境ID</label>\n    <input class="mdui-textfield-input" id="hpp_twikoo_envId"/>\n  </div>\n  \n  \n          \n  \n              \n                 \n  \n  \n  \n          </div></div>\n        </div>\n\t\t\n\t\t<div class="mdui-panel-item mdui-panel-item-open " id="item-1">\n          <div class="mdui-panel-item-header">附加配置</div>\n          <div class="mdui-panel-item-body">\n            \n  \n  \n           <label class="mdui-switch">\n        <input type="checkbox" id="hpp_autodate"/>\n        <i class="mdui-switch-icon"></i>\t自动签到功能\n      </label>\n  \n              \n                 \n  \n  \n  \n          </div>\n        </div>\n\t\t\n\t\t\n      </div>\n    </div>\n  </div>\n<button class="mdui-btn mdui-btn-raised mdui-center" onclick="upload()" id="bbb">提交配置</button>\n</div>\n  <div class="mdui-dialog" id="dialogerr">\n    <div class="mdui-dialog-title">出错了！</div>\n    <div class="mdui-dialog-content">上传失败！可能是网络原因，请重试</div>\n  </div>\n  \n    <div class="mdui-dialog" id="dialogok">\n    <div class="mdui-dialog-title">上传成功！</div>\n    <div class="mdui-dialog-content">点击OK进入主面板</div>\n\t<div class="mdui-dialog-actions">\n      <button class="mdui-btn mdui-ripple" onclick="window.location.reload()">OK</button>\n    </div>\n  </div>\n<script src="https://cdn.jsdelivr.net/npm/mdui@1.0.1/dist/js/mdui.min.js"><\/script>\n<script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@b47fc4a/install.js"><\/script>\n\n\n<\/script>\n</body>\n</html>`;return new Response(t,{headers:{"content-type":"text/html;charset=UTF-8"}})}}{const i=JSON.parse(JSON.parse(t)),s=(i.hpp_domain,i.hpp_userimage),c=i.hpp_title,r=i.hpp_usericon,p=i.hpp_cors,o=i.hpp_githubdoctoken,u=i.hpp_githubimagetoken,v=i.hpp_githubdocusername,f=i.hpp_githubdocrepo,b=i.hpp_githubdocroot,g=i.hpp_githubdocbranch,x=(i.hpp_githubpage,i.hpp_githubpagetoken,i.hpp_githubpageusername,i.hpp_githubpagerepo,i.hpp_githubpageroot,i.hpp_githubpagebranch,i.hpp_githubimageusername),w=i.hpp_githubimagerepo,y=i.hpp_githubimagepath,_=i.hpp_githubimagebranch,k=i.hpp_autodate,P=i.hpp_account_identifier,j=i.hpp_script_name,$=i.hpp_CF_Auth_Key,N=i.hpp_Auth_Email,O=(i["hpp_twikoo-envId"],i.hpp_OwO),A=i.hpp_back,T=i.hpp_lazy_img,E=i.hpp_highlight_style,S=i.hpp_plugin_js,H=i.hpp_plugin_css,R=b+"source/_posts/",J=b+"source/_drafts/",K=encodeURI(J),M=encodeURI(R),U=encodeURI(y),V=null==i.hpp_color?"rose":i.hpp_color,q=null==i.hpp_bg_color?"white":i.hpp_bg_color,F="dark"==i.hpp_theme_mode?"dark":"light",z=null==i.hpp_page_limit?"10":i.hpp_page_limit;if("True"==k){const t=Date.now(new Date);await KVNAME.put("hpp_activetime",t),Date.now(new Date)}const D={method:"GET",headers:{"content-type":"application/json;charset=UTF-8","user-agent":e,Authorization:"token "+u}},I={method:"GET",headers:{"content-type":"application/json;charset=UTF-8","user-agent":e,Authorization:"token "+o}};if(h.startsWith("/hpp/admin/dash")){let t="",n="",i="",a="",l="",d="",p="",o="",u='<div class="content"><div class="container-fluid"><div class="row"><div class="col-md-12"><div class="card"><div class="card-header card-header-primary"><h4 class="card-title">404</h4><p class="card-category">我们不知道您的需求</p></div></br><div class="card-body"><a href="/hpp/admin/dash/home">回到主页</a></div></div></div></div></div></div>';"/hpp/admin/dash/home"==h&&(t=" active",u=`<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-lg-6 col-md-6 col-sm-6">\n              <div class="card card-stats">\n                <div class="card-header card-header-warning card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-file"></i>\n                  </div>\n                  <p class="card-category">总文档数</p>\n                  <h3 class="card-title" id="document_all">NaN\n                    <small>个</small>\n                  </h3>\n                </div>\n                <div class="card-footer">\n\t\t\t\t<div class="stats">\n                    <a href="/hpp/admin/dash/edit" style="color: #cf6ae0 !important"><i class="fa fa-pencil"></i>前往管理</a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="col-lg-6 col-md-6 col-sm-6">\n              <div class="card card-stats">\n                <div class="card-header card-header-success card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-image"></i>\n                  </div>\n                  <p class="card-category">总图片数</p>\n                  <h3 class="card-title" id="img_all">NaN\n                    <small>张</small>\n                  </h3>\n                </div>\n                <div class="card-footer">\n\t\t\t\t<div class="stats">\n                    <a href="/hpp/admin/dash/img_man" style="color: #cf6ae0 !important"><i class="fa fa-upload"></i>前往管理</a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="col-lg-6 col-md- col-sm-6">\n              <a href="javascript:checkUpdate()">\n              <div class="card card-stats">\n                <div class="card-header card-header-info card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-upload"></i>\n                  </div>\n                  <p class="card-category">当前版本</p>\n                  <h3 class="card-title">${e}</h3>\n                </div>\n                <div class="card-footer">\n                  <div class="stats">\n                    <i class="material-icons">update</i>点击更新\n                  </div>\n                </div>\n              </div>\n            </a>\n            </div>\n            \n            \n\t\t\t\n\t\t\t<div class="col-lg-6 col-md-6 col-sm-6">\n              <a href="https://jq.qq.com/?_wv=1027&k=rAcnhzqK" target="_blank">\n              <div class="card card-stats">\n                <div class="card-header card-header-success card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-qq"></i>\n                  </div>\n                  <h3 class="card-title">QQ群聊天去？</h3>\n                </div>\n                <div class="card-footer">\n\t\t\t\t诚聘小白鼠(bushi\n                </div>\n              </div>\n            </a>\n            </div>\n\t\t\t\n\t\t\t<div class="col-lg-6 col-md-6 col-sm-6">\n              <a href="https://hexoplusplus.js.org" target="_blank">\n              <div class="card card-stats">\n                <div class="card-header card-header-normal card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-book"></i>\n                  </div>\n                  <h3 class="card-title">文档地址</h3>\n                </div>\n                <div class="card-footer">有多少人没看文档来提issues？\n                </div>\n              </div>\n            </a>\n            </div>\n\t\t\t\n\t\t\t<div class="col-lg-6 col-md-6 col-sm-6">\n              <a href="https://github.com/HexoPlusPlus/HexoPlusPlus" target="_blank">\n              <div class="card card-stats">\n                <div class="card-header card-header-primary card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-github"></i>\n                  </div>\n                  <h3 class="card-title">Github</h3>\n                </div>\n                <div class="card-footer">\n\t\t\t\t欢迎PR\n                </div>\n              </div>\n            </a>\n            </div>\n\t\t\t\n          </div>\n        </div>\n      </div>`,o="<script src='https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/home.js'><\/script>"),"/hpp/admin/dash/edit"==h&&(n=" active",u='<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title">书写</h4>\n                  <p class="card-category">Wrtie</p>\n                </div>\n              </br>\n                <div class="card-body">\n                          <div class="col-md-8">\n                              <label class="bmd-label-floating">文件选择</label>\n                              <select id="choo" class="form-control form-control-chosen" style="display: inline;"></select>\n\t\t\t\t\t\t\t  <button type="submit" class="btn btn-success" onclick="javascript:hpp_get_md()">获取文章</button>\n\t\t\t\t\t\t\t  <button type="submit" class="btn btn-normal" onclick="javascript:hpp_get_draft()">获取艹稿</button>\n\t\t\t\t\t\t\t  <button type="submit" class="btn btn-danger" onclick="javascript:hpp_del_index()">徒手清索引</button>\n                          </div>\n                        \n                        <div class="row">\n                          <div class="col-md-12">\n                            <div class="form-group">\n                              <label>内容</label>\n                              <div class="form-group" id="hpp_doc_editor">\n\t\t\t\t\t\t\t\t\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n\t\t\t\t\t\t<button type="submit" class="btn btn-normal pull-right" onclick="javascript:hpp_upload_draft()">发布艹稿</button>\n                        <button type="submit" class="btn btn-primary pull-right" onclick="javascript:hpp_upload_md()">发布文件</button>\n                        <div class="clearfix"></div>\n\t\t\t\t\t\t<input type="file" name="upload" id="upload_md" style="display:none"/>\n\t\t\t\t\t\t<form id="upform" enctype=\'multipart/form-data\' style="display:none;">\n    <div class="form-group">\n        <label for="upteainput">上传文件</label>\n        <input type="file" id="input">\n    </div>\n</form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',o=`<link rel='stylesheet' type='text/css' href='https://cdn.jsdelivr.net/npm/notyf/notyf.min.css' /> \n<script src="https://cdn.jsdelivr.net/npm/notyf/notyf.min.js"><\/script><script src="https://cdn.jsdelivr.net/gh/indrimuska/jquery-editable-select/dist/jquery-editable-select.min.js"><\/script><script src='https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/edit.js'><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.min.js"><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.plugins.min.js"><\/script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/OwO.min.css">\n<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.5.0/build/highlight.min.js"><\/script>\n<link rel='stylesheet' type='text/css' href='https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.5.0/build/styles/${E}.min.css' /> \n\n`),"/hpp/admin/dash/talk"==h&&(i=" active",u='<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title">说说</h4>\n                  <p class="card-category">Talk</p>\n                </div>\n              </br>\n                <div class="card-body">\n                          \n                        \n                        <div class="row">\n                          <div class="col-md-12">\n                            <div class="form-group">\n                              <label>书写</label>\n                              <div class="form-group" id="hpp_talk_editor"></div>\n                            </div>\n                          </div>\n                        </div>\n                        <button type="submit" class="btn btn-primary pull-right" onclick="javascript:hpp_upload_md()">Upload</button>\n                        <div class="clearfix"></div>\n\t\t\t\t\t\t<input type="file" name="upload" id="upload_md" style="display:none"/>\n\t\t\t\t\t\t<form id="upform" enctype=\'multipart/form-data\' style="display:none;">\n    <div class="form-group">\n        <label for="upteainput">上传文件</label>\n        <input type="file" id="input">\n    </div>\n</form><div id="hpp_talk"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',o='<link rel=\'stylesheet\' type=\'text/css\' href=\'https://cdn.jsdelivr.net/npm/notyf/notyf.min.css\' /> <script src="https://cdn.jsdelivr.net/npm/notyf/notyf.min.js"><\/script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/talk.css" /><script src=\'https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/talk.js\'><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.min.js"><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.plugins.min.js"><\/script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/OwO.min.css">'),"/hpp/admin/dash/docs_man"==h&&(a=" active",u='\n<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title ">文章列表</h4>\n                  <p class="card-category">这里列出了你所有文章</p>\n                </div>\n                <div class="card-body">\n                  <div class="table-responsive">\n\t\t\t\t  <input type="text" id="search_Input" onkeyup="hpp_search()" placeholder="搜索文章...">\n                    <table class="table" id="hpp_table">\n                      <thead class="text-primary">\n                        <th>\n                          名称\n                        </th>\n                        <th>\n                          大小\n                        </th>\n                        <th>发布状态</th><th></th>\n                        <th></th><th></th><th></th>\n                      </thead>\n                      <tbody id="tbody_doc">\n\t\t\t\t\t\t\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',o="<script src='https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/doc_man.js'><\/script>"),"/hpp/admin/dash/img_man"==h&&(l=" active",u='<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title ">图片列表</h4>\n                  <p class="card-category">这里列出了你所有图片</p>\n                </div>\n                <div class="card-body">\n                  <div class="table-responsive">\n\t\t\t\t  <input type="text" id="search_Input" onkeyup="hpp_search()" placeholder="搜索图片...">\n                    <table class="table" id="hpp_table">\n                      <thead class=" text-primary">\n                        <th>\n                          名称\n                        </th>\n                        <th>\n                          大小\n                        </th><th>预览</th>\n                        <th></th>\n                        <th></th><th></th><th></th><th></th>\n                      </thead>\n                      <tbody id="tbody_img">\n\t\t\t\t\t\t\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',o='<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/brutaldesign/swipebox/src/css/swipebox.css"><script src=\'https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/img_man.js\'><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.min.js"><\/script>\n<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.plugins.min.js"><\/script><script src="https://cdn.jsdelivr.net/gh/brutaldesign/swipebox/src/js/jquery.swipebox.min.js"><\/script>'),"/hpp/admin/dash/tool"==h&&(d=" active",u='<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n        \n\t\t\t\n\t\t\t<div class="col-lg-6 col-md-6 col-sm-6">\n              <a href="javascript:hpp_artitalk_into_hpptalk()">\n              <div class="card card-stats">\n                <div class="card-header card-header-primary card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-download"></i>\n                  </div>\n                  <h3 class="card-title">从Artitalk中导入</h3>\n                </div>\n                <div class="card-footer">这不是抢生意啊喂\n                </div>\n              </div>\n            </a>\n            </div>\n\t\t\t\n\t\t\t<div class="col-lg-6 col-md-6 col-sm-6">\n              <a href="javascript:hpp_del_all()">\n              <div class="card card-stats">\n                <div class="card-header card-header-danger card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-close"></i>\n                  </div>\n                  <h3 class="card-title">销毁配置</h3>\n                </div>\n                <div class="card-footer">\n                  <div class="stats">\n                    <i class="material-icons text-danger">warning</i>高危操作，你知道会发生什么的\n                  </div>\n                </div>\n              </div>\n            </a>\n            </div>\n\t\t\t\n\t\t\t\n          </div>\n        </div>\n      </div>',o="<script src='https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/tool.js'><\/script>"),"/hpp/admin/dash/set"==h&&(p=" active",u='<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title ">配置</h4>\n                  <p class="card-category">请根据需要修改配置</p>\n                </div>\n                <div class="card-body">\n                  <div class="table-responsive">\n\t\t\t\t  <input type="text" id="search_Input" onkeyup="hpp_search()" placeholder="搜索配置...">\n                    <table class="table" id="hpp_table">\n                      <thead class=" text-primary">\n                        <th>\n                          键值\n                        </th>\n                        <th>\n                          内容\n                        </th><th>操作</th>\n                      </thead>\n                      <tbody id="tbody_config">\n\t\t\t\t\t\t\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',o="<script src='https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/config.js'><\/script>");let b="";null!=H&&(b+=`<link rel="stylesheet" type="text/css" href="${H}" />`),null!=S&&(o+=`<script src="${S}"><\/script>`);let k=`<!DOCTYPE html>\n<html lang="en">\n\n<head>\n  <meta charset="utf-8" />\n  <link rel="apple-touch-icon" sizes="76x76" href="${r}">\n  <link rel="icon" type="image/png" href="${r}">\n  <title>${c}</title>\n  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />\n  ${b}\n  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/font.css" />\n  <link href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/admin_all_${F}.css" rel="stylesheet" />\n  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/indrimuska/jquery-editable-select/dist/jquery-editable-select.min.css">\n  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">\n  <script>\n  //这个脚本的用途是前端变量传递\n  const hpp_ver="${e}";\n  const hpp_OwO="${O}";\n  const avatar="${s}";\n  const username="${m[0]}";\n  const hpp_githubdocusername = "${v}"\n  const hpp_githubdocrepo ="${f}"\n  const hpp_githubdocbranch ="${g}"\n  const hpp_githubdocpath ="${R}"\n  const hpp_githubimageusername = "${x}"\n  const hpp_githubimagerepo ="${w}"\n  const hpp_githubimagebranch ="${_}"\n  const hpp_githubimagepath ="${y}"\n  const hpp_githubdocdraftpath ="${J}"\n  const hpp_lazy_img = "${T}"\n  const hpp_highlight_style = "${E}"\n  const hpp_page_limit = ${z}\n  <\/script>\n</head>\n<body class="${"dark"==F?"dark-edition":""}">\n  <div class="wrapper ">\n    <div class="sidebar" data-color="${V}" data-background-color="${"dark"==F?"default":q}" data-image="${A}">\n      <div class="logo"><a class="simple-text logo-normal">${c}</a></div>\n      <div class="sidebar-wrapper">\n        <ul class="nav">\n          <li class="nav-item${t}">\n            <a class="nav-link" href="/hpp/admin/dash/home">\n              <i class="material-icons">dashboard</i>\n              <p>主页</p>\n            </a>\n          </li>\n          <li class="nav-item${n}">\n            <a class="nav-link" href="/hpp/admin/dash/edit">\n              <i class="material-icons">create</i>\n              <p>书写</p>\n            </a>\n          </li>\n          <li class="nav-item${i}">\n            <a class="nav-link" href="/hpp/admin/dash/talk">\n              <i class="material-icons">chat</i>\n              <p>说说</p>\n            </a>\n          </li>\n          <li class="nav-item${a}">\n            <a class="nav-link" href="/hpp/admin/dash/docs_man">\n              <i class="material-icons">descriptionoutlined</i>\n              <p>文档管理</p>\n            </a>\n          </li>\n\t\t  <li class="nav-item${l}">\n            <a class="nav-link" href="/hpp/admin/dash/img_man">\n              <i class="material-icons">imagerounded</i>\n              <p>图片管理</p>\n            </a>\n          </li>\n\t\t  <li class="nav-item${d}">\n            <a class="nav-link" href="/hpp/admin/dash/tool">\n              <i class="material-icons">widgets</i>\n              <p>工具</p>\n            </a>\n          </li>\n\t\t  <li class="nav-item${p}">\n            <a class="nav-link" href="/hpp/admin/dash/set">\n              <i class="material-icons">settings</i>\n              <p>设置</p>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class="main-panel">\n      \x3c!-- Navbar --\x3e\n      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">\n        <div class="container-fluid">\n          <div class="navbar-wrapper">\n            <a class="navbar-brand" href="javascript:;">HexoPlusPlus后台</a>\n          </div>\n          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">\n            <span class="sr-only">Toggle navigation</span>\n            <span class="navbar-toggler-icon icon-bar"></span>\n            <span class="navbar-toggler-icon icon-bar"></span>\n            <span class="navbar-toggler-icon icon-bar"></span>\n          </button>\n          <div class="collapse navbar-collapse justify-content-end">\n            <ul class="navbar-nav">\n              <li class="nav-item dropdown">\n                <a class="nav-link" href="javascript:;" id="navbarDropdownProfile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                  <img src="${s}" style="width: 30px;border-radius: 50%;border: 0;">\n                  <p class="d-lg-none d-md-block">\n                    Account\n                  </p>\n                </a>\n                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">\n                  <a class="dropdown-item" href="javascript:kick()">签到</a>\n                  <div class="dropdown-divider"></div>\n                  <a class="dropdown-item" href="javascript:hpp_logout()">退出</a>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      \x3c!-- End Navbar --\x3e \n\n\x3c!--innerHTMLSTART--\x3e${u}\n\t\t\t\t\t\x3c!--innerHTMLEND--\x3e\n</div>\n</div>\n<script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4"><\/script>\n<script src="https://cdn.jsdelivr.net/npm/sweetalert/dist/sweetalert.min.js"><\/script>\n<script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/admin_all.js"><\/script>\n${o}\n\n</body>\n\n</html>`;return new Response(k,{headers:{"content-type":"text/html;charset=UTF-8"}})}if(h.startsWith("/hpp/admin/api/adddoc/")){const t=await n.text(),i=`https://api.github.com/repos/${v}/${f}/contents${M}${h.substr("/hpp/admin/api/adddoc/".length)}?ref=${g}`,a=JSON.parse(await(await fetch(i,I)).text()).sha,s={branch:g,message:`Upload from ${e} By ${v}`,content:t,sha:a},l={body:JSON.stringify(s),method:"PUT",headers:{"content-type":"application/json;charset=UTF-8","user-agent":e,Authorization:"token "+o}},d=await fetch(i,l),c=await d.status;return 200==c||201==c?(201==c&&await KVNAME.delete("hpp_doc_list_index"),new Response("Update Success",{status:c})):new Response("Fail To Update",{status:c})}if(h.startsWith("/hpp/admin/api/adddraft/")){const t=await n.text(),i=`https://api.github.com/repos/${v}/${f}/contents${K}${h.substr("/hpp/admin/api/adddraft/".length)}?ref=${g}`,a=JSON.parse(await(await fetch(i,I)).text()).sha,s={branch:g,message:`Upload draft from ${e} By ${v}`,content:t,sha:a},l={body:JSON.stringify(s),method:"PUT",headers:{"content-type":"application/json;charset=UTF-8","user-agent":e,Authorization:"token "+o}},d=await fetch(i,l),c=await d.status;return 200==c||201==c?(201==c&&await KVNAME.delete("hpp_doc_draft_list_index"),new Response("Update Success",{status:c})):new Response("Fail To Update",{status:c})}if(h.startsWith("/hpp/admin/api/addimage")){const t=await n.text(),i=Date.parse(new Date),a=h.substr("/hpp/admin/api/addimage/".length),s=`https://api.github.com/repos/${x}/${w}/contents${U}${i}.${a}`,l={branch:_,message:`Upload from ${e} By ${x}`,content:t},d={body:JSON.stringify(l),method:"PUT",headers:{"content-type":"application/json;charset=UTF-8","user-agent":e,Authorization:"token "+u}},c=await fetch(s,d),r=await c.status;return 200==r||201==r?new Response(`https://cdn.jsdelivr.net/gh/${x}/${w}@${_}${y}${i}.${a}`,{status:r}):new Response("Fail To Upload Image",{status:r})}if(h.startsWith("/hpp/admin/api/deldoc")){const t=`https://api.github.com/repos/${v}/${f}/contents${M}${h.substr("/hpp/admin/api/deldoc/".length)}?ref=${g}`,n=JSON.parse(await(await fetch(t,I)).text()).sha,i={branch:g,message:`Delete from ${e} By ${v}`,sha:n},a={body:JSON.stringify(i),method:"DELETE",headers:{"content-type":"application/json;charset=UTF-8","user-agent":e,Authorization:"token "+o}},s=await fetch(t,a),l=await s.status;return 200==l?(await KVNAME.delete("hpp_doc_list_index"),new Response("Delete Success",{status:l})):new Response("Fail To Delete doc",{status:l})}if(h.startsWith("/hpp/admin/api/deldraft")){const t=`https://api.github.com/repos/${v}/${f}/contents${K}${h.substr("/hpp/admin/api/deldraft/".length)}?ref=${g}`,n=JSON.parse(await(await fetch(t,I)).text()).sha,i={branch:g,message:`Delete draft from ${e} By ${v}`,sha:n},a={body:JSON.stringify(i),method:"DELETE",headers:{"content-type":"application/json;charset=UTF-8","user-agent":e,Authorization:"token "+o}},s=await fetch(t,a),l=await s.status;return 200==l?(await KVNAME.delete("hpp_doc_draft_list_index"),new Response("Delete Success",{status:l})):new Response("Fail To Delete doc",{status:l})}if(h.startsWith("/hpp/admin/api/delimage")){const t=`https://api.github.com/repos/${x}/${w}/contents${U.substr(0,U.length-1)}?ref=${_}`,n=h.substr("/hpp/admin/api/delimage/".length),i=`https://api.github.com/repos/${x}/${w}/contents${U}${n}?ref=${_}`,s=JSON.parse(await(await fetch(t,D)).text());let d="";for(l=0;l<a(s);l++)if(s[l].name==n){d=s[l].sha;break}const c={branch:_,message:`Delete from ${e} By ${v}`,sha:d},r={body:JSON.stringify(c),method:"DELETE",headers:{"content-type":"application/json;charset=UTF-8","user-agent":e,Authorization:"token "+u}},p=await fetch(i,r),o=await p.status;return 200==o?new Response("Delete Success",{status:o}):new Response("Fail To Delete Image",{status:o})}if(h.startsWith("/hpp/admin/api/getdoc")){const t=h.substr("/hpp/admin/api/getdoc/".length);return fetch(`https://raw.githubusercontent.com/${v}/${f}/${g}${M}${t}?ref=${g}`,I)}if("/hpp/admin/api/getscaffolds"==h)return fetch(`https://raw.githubusercontent.com/${v}/${f}/${g}${b}scaffolds/post.md?ref=${g}`,I);async function d(t,e,n){try{const s=await JSON.parse(await(await fetch(e,I)).text());for(var i=0;i<a(s);i++)"dir"!=s[i].type?t.push(s[i]):await d(t,s[i]._links.self,n);return t}catch(t){return{}}}if("/hpp/admin/api/getlist"==h){let t=await KVNAME.get("hpp_doc_list_index");if(null===t){const e=`https://api.github.com/repos/${v}/${f}/contents${M.substr(0,M.length-1)}?ref=${g}`;t=await JSON.stringify(await d([],e,I)),await KVNAME.put("hpp_doc_list_index",t)}return new Response(t,{headers:{"content-type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":p}})}if(h.startsWith("/hpp/admin/api/getdraft")){const t=h.substr("/hpp/admin/api/getdraft/".length);return fetch(`https://raw.githubusercontent.com/${v}/${f}/${g}${K}${t}?ref=${g}`,I)}if("/hpp/admin/api/get_draftlist"==h){let t=await KVNAME.get("hpp_doc_draft_list_index");if(null===t){const e=`https://api.github.com/repos/${v}/${f}/contents${K.substr(0,K.length-1)}?ref=${g}`;t=await JSON.stringify(await d([],e,I)),await KVNAME.put("hpp_doc_draft_list_index",t)}return new Response(t,{headers:{"content-type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":p}})}if("/hpp/admin/api/getimglist"==h){const t=`https://api.github.com/repos/${x}/${w}/contents${U.substr(0,U.length-1)}?ref=${_}`;return new Response(await JSON.stringify(await d([],t,D)),{headers:{"content-type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":p}})}if("/hpp/admin/api/index_del"==h)return await KVNAME.delete("hpp_doc_draft_list_index"),await KVNAME.delete("hpp_doc_list_index"),new Response("OK");if("/hpp/admin/api/addtalk"==h){let t=await KVNAME.get("hpp_talk_data");null===t&&(t="[]");let e=await JSON.parse(t),i=await KVNAME.get("hpp_talk_id");null===i&&(i=0);let a=i;a++;const s=await n.json(),l={id:a,time:s.time,name:s.name,avatar:s.avatar,content:s.content,visible:"True"};return e.push(l),await KVNAME.put("hpp_talk_data",JSON.stringify(e)),await KVNAME.put("hpp_talk_id",a),new Response("OK")}if("/hpp/admin/api/deltalk"==h){const t=JSON.parse(await KVNAME.get("hpp_talk_data")),e=Number(await n.text());for(l=0;l<a(t);l++)Number(t[l].id)==e&&t.splice(l,1);return await KVNAME.put("hpp_talk_data",JSON.stringify(t)),new Response("OK")}if("/hpp/admin/api/visibletalk"==h){const t=JSON.parse(await KVNAME.get("hpp_talk_data")),e=await n.text();for(l=0;l<a(t);l++)t[l].id==e&&(t[l].visible="False"==t[l].visible?"True":"False");return await KVNAME.put("hpp_talk_data",JSON.stringify(t)),new Response("OK")}if("/hpp/admin/api/update"==h){const t={body:await(await fetch("https://raw.githubusercontent.com/HexoPlusPlus/HexoPlusPlus/main/worker/dist/main.js")).text(),method:"PUT",headers:{"content-type":"application/javascript","X-Auth-Key":$,"X-Auth-Email":N}},e=await(await fetch(`https://api.cloudflare.com/client/v4/accounts/${P}/workers/scripts/${j}`,t)).text();return new Response(JSON.parse(e).success)}if("/hpp/admin/api/small_white_mouse_update"==h){const t={body:await(await fetch("https://raw.githubusercontent.com/HexoPlusPlus/HexoPlusPlus/dev/worker/dist/main.js")).text(),method:"PUT",headers:{"content-type":"application/javascript","X-Auth-Key":$,"X-Auth-Email":N}},e=await(await fetch(`https://api.cloudflare.com/client/v4/accounts/${P}/workers/scripts/${j}`,t)).text();return new Response(JSON.parse(e).success)}if("/hpp/admin/api/inputtalk"==h){let t=await KVNAME.get("hpp_talk_data");null===t&&(t="[]");let e=await JSON.parse(t),i=await KVNAME.get("hpp_talk_id");null===i&&(i=0);let a=i,s=await JSON.parse(await n.text()),d={};for(l=0;l<s.length;l++)a++,ftime=s[l].updatedAt,ftime=ftime.split("T"),d={id:a,time:ftime[0],name:m[0],avatar:s[l].avatar,content:s[l].atContentHtml,visible:"True"},e.push(d);return await KVNAME.put("hpp_talk_data",JSON.stringify(e)),await KVNAME.put("hpp_talk_id",a),new Response(JSON.stringify(e))}if(h.startsWith("/hpp/admin/api/checkupdate")){const t=await(await fetch("https://raw.githubusercontent.com/HexoPlusPlus/HexoPlusPlus/main/update.js")).text();return new Response(t,{headers:{headers:"content-type: application/javascript; charset=utf-8"}})}if("/hpp/admin/api/del_all"==h)return await KVNAME.delete("hpp_config"),new Response("OK");if("/hpp/admin/api/get_config"==h)return new Response(await JSON.parse(t));if("/hpp/admin/api/edit_config"==h){let e=await JSON.parse(await n.text()),i=e.index,a=e.value,s=await JSON.parse(await JSON.parse(t));return s[i]=a,s=await JSON.stringify(s),await KVNAME.put("hpp_config",await JSON.stringify(s)),new Response("OK")}if("/hpp/admin/api/del_config"==h){let e=await n.text(),i=await JSON.parse(await JSON.parse(t));return delete i[e],await KVNAME.put("hpp_config",await JSON.stringify(await JSON.stringify(i))),new Response("OK")}if("/hpp/admin/api/kick"==h){const t=Date.now(new Date);return await KVNAME.put("hpp_activetime",t),Date.now(new Date),new Response("OK")}if("/hpp/admin/api/gethpptalk"==h){const t=await n.text();if(""!=t){const e=(await JSON.parse(t)).limit,n=(await JSON.parse(t)).start,i=await JSON.parse(await KVNAME.get("hpp_talk_data"));let s=[];for(l=a(i)-n-1;l>a(i)-n-e;l--)s.push(await JSON.stringify(i[l]));return new Response(JSON.stringify(s),{headers:{"content-type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}})}return new Response("ERROR",{headers:{"Access-Control-Allow-Origin":"*"}})}}}return Response.redirect("https://"+u+"/hpp/admin/dash",302)}if(h.startsWith("/hpp/api")){if("/hpp/api/getblogeractive"==h){const t=await KVNAME.get("hpp_activetime");var c=(Date.parse(new Date)-t)/1e3;const e={headers:{"content-type":"application/javascript; charset=utf-8","Access-Control-Allow-Origin":"*"}};return c<30?new Response("document.getElementById(\"bloggeractivetime\").innerHTML='博主刚刚还在这儿呢'",e):c<60?new Response('document.getElementById("bloggeractivetime").innerHTML=\'博主在'+c+"秒前离开这儿'",e):c<3600?new Response('document.getElementById("bloggeractivetime").innerHTML=\'博主在'+Math.round(c/60)+"分钟前偷偷瞄了一眼博客'",e):new Response('document.getElementById("bloggeractivetime").innerHTML=\'博主在'+Math.round(c/3600)+"小时前活跃了一次'",e)}if("/hpp/api/captchaimg"==h){let t=new Request("https://thispersondoesnotexist.com/image");return fetch(t)}if("/hpp/api/twikoo"==h){const t=await JSON.parse(await JSON.parse(await KVNAME.get("hpp_config"))),e=t.hpp_twikoo_envId,i=(t.hpp_cors,"https://tcb-api.tencentcloudapi.com/web?env="+e);async function r(t,n,a){const s={event:"COMMENT_GET",url:n,before:a},l={access_token:t,action:"functions.invokeFunction",dataVersion:"1970-1-1",env:e,function_name:"twikoo",request_data:JSON.stringify(s),seqId:""},d={body:JSON.stringify(l),method:"POST",headers:{"content-type":"application/json;charset=UTF-8"}};return await(await fetch(i,d)).text()}const a=await JSON.parse(await n.text()),s=a.path,l=a.before;let d=await KVNAME.get("hpp_comment_refresh_token"),c=await KVNAME.get("hpp_comment_access_token"),p=await r(c,s,l),o=await JSON.parse(p).code;return"CHECK_LOGIN_FAILED"==o|"INVALID_PARAM"==o&&(d=await async function(){const t={action:"auth.signInAnonymously",anonymous_uuid:"",dataVersion:"1970-1-1",env:e,refresh_token:"",seqId:""},n={body:JSON.stringify(t),method:"POST",headers:{"content-type":"application/json;charset=UTF-8"}};return JSON.parse(await(await fetch(i,n)).text()).refresh_token}(),await KVNAME.put("hpp_comment_refresh_token",d),c=await async function(t){const n={action:"auth.fetchAccessTokenWithRefreshToken",anonymous_uuid:"",dataVersion:"1970-1-1",env:e,refresh_token:t,seqId:""},a={body:JSON.stringify(n),method:"POST",headers:{"content-type":"application/json;charset=UTF-8"}};return JSON.parse(await(await fetch(i,a)).text()).access_token}(d),await KVNAME.put("hpp_comment_access_token",c),p=await r(c,s,l)),new Response(p,{headers:{"Access-Control-Allow-Origin":"*"}})}if("/hpp/api/gethpptalk"==h){const t=await n.text();if(""!=t){const e=(await JSON.parse(t)).limit,n=(await JSON.parse(t)).start,i=await JSON.parse(await KVNAME.get("hpp_talk_data"));let s=[],d="";for(l=a(i)-n-1;l>a(i)-n-e;l--){try{d=i[l].visible}catch(t){d=null}"False"!=d&&s.push(await JSON.stringify(i[l]))}return new Response(JSON.stringify(s),{headers:{"content-type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}})}return new Response("ERROR",{headers:{"Access-Control-Allow-Origin":"*"}})}}if("/hpp/hpp_talk"==h)return new Response('<!DOCTYPE html>\n<html lang="zh">\n<head>\n<meta charset="UTF-8">\n<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> \n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<title>HexoPlusPlus_Talk预览页面</title>\n</head>\n<body>\n\t<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/talk.css" /> \n<script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/talk_user.js"><\/script>\n<div id="hpp_talk"></div>\n<script>\nnew hpp_talk({\nid:"hpp_talk",\ndomain: window.location.host,\nlimit: 10,\nstart: 0 \n});\n<\/script>\n</body>\n</html>',{headers:{"content-type":"text/html;charset=UTF-8"}});const f=await KVNAME.get("hpp_config"),b=JSON.parse(JSON.parse(f)),g=b.hpp_githubpage,x=b.hpp_githubpagetoken,w=b.hpp_githubpageusername,y=b.hpp_githubpagerepo,_=b.hpp_githubpageroot,k=b.hpp_githubpagebranch;if(console.log(g),"True"!=g)return new Response('\n<!DOCTYPE html>\n<html lang="en" class="no-js">\n\t<head>\n        <meta charset="UTF-8" />\n        <meta http-equiv="X-UA-Compatible" content="IE=edge"> \n        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" /> \n        <title>HexoPlusPlusError</title>\n        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/error.css" />\n\t</head>\n\t<body>\n\t\t<div class="container demo-2">\n\t\t\t<div class="content">\n                <div id="large-header" class="large-header">\n                    <canvas id="demo-canvas"></canvas>\n                    <h1 class="main-title"><span>Error</span></h1>\n                </div>\n                <div class="codrops-header">\n                    <h1>HexoPlusPlus 错误<span>不知道你的目的是什么</span></h1>\n                    <nav class="codrops-demos">\n                        <a class="current-demo" href="/hpp/admin/dash/home">仪表盘</a>\n                        <a class="current-demo" href="https://github.com/HexoPlusPlus/HexoPlusPlus">Github</a>\n                    </nav>\n                </div>\n            </div>\n\t\t</div>\n        <script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/error.js"><\/script>\n\t</body>\n</html>\n',{headers:{"content-type":"text/html;charset=UTF-8"}});{let t=h.split("?")[0].substr(1);""==t.split("/").slice(-1)&&(t+="index.html");const e=await fetch(`https://raw.githubusercontent.com/${w}/${y}/${k}${_}${t}`,{headers:{Accept:"application/vnd.github.v3.raw",Authorization:`token ${x}`}});let n;return 404==await e.status?(n={headers:{"content-type":"text/html; charset=utf-8"}},new Response(await(await fetch(`https://raw.githubusercontent.com/${w}/${y}/${k}${_}404.html`,{headers:{Accept:"application/vnd.github.v3.raw",Authorization:`token ${x}`}})).text(),n)):"html"==t.split("/").slice(-1)[0].split(".")[1]?(n={headers:{"content-type":"text/html; charset=utf-8"}},new Response(await e.text(),n)):"js"==t.split("/").slice(-1)[0].split(".")[1]?(n={headers:{"content-type":"application/javascript; charset=utf-8"}},new Response(await e.text(),n)):"css"==t.split("/").slice(-1)[0].split(".")[1]?(n={headers:{"content-type":"text/css; charset=utf-8"}},new Response(await e.text(),n)):new Response(e,n)}}catch(t){return new Response(`\n<!DOCTYPE html>\n<html lang="en" class="no-js">\n\t<head>\n        <meta charset="UTF-8" />\n        <meta http-equiv="X-UA-Compatible" content="IE=edge"> \n        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" /> \n        <title>HexoPlusPlusError</title>\n        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/error.css" />\n\t</head>\n\t<body>\n\t\t<div class="container demo-2">\n\t\t\t<div class="content">\n                <div id="large-header" class="large-header">\n                    <canvas id="demo-canvas"></canvas>\n                    <h1 class="main-title"><span>Error</span></h1>\n                </div>\n                <div class="codrops-header">\n                    <h1>HexoPlusPlus 异常<span>${t}</span></h1>\n                    <nav class="codrops-demos">\n                        <a class="current-demo" href="https://hexoplusplus.js.org">文档</a>\n                        <a class="current-demo" href="https://github.com/HexoPlusPlus/HexoPlusPlus">Github</a>\n\t\t\t\t\t\t<a class="current-demo" href="https://jq.qq.com/?_wv=1027&k=rAcnhzqK">QQ群寻求帮助</a>\n                    </nav>\n                </div>\n            </div>\n\t\t</div>\n        <script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@edff86b/error.js"><\/script>\n\t</body>\n</html>\n`,{headers:{"content-type":"text/html;charset=UTF-8"}})}}(n.request))}))})()})();